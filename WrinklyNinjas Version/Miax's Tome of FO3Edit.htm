<!DOCTYPE html>
<!-- saved from url=(0044)http://dl.dropbox.com/u/17043363/readme.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8">
<title>Miax's Tome of FO3Edit</title>
<style>
body {font-family:Helvetica,sans-serif;font-size:10pt;}
img {border:0; display:block;}
</style>

</head><body><h1>Miax’s Tome of FO3Edit</h1>

<p>A Comprehensive Guide to using ElminsterEU’s FO3Edit

</p><div class="versionInfo">
<p>Document Revision
</p><p>1.1 DRAFT
</p><p>08/18/2009
</p></div>

<h2>Revision History</h2>
<table>
	<thead><tr><th>Date</th><th>Revision</th><th>Author</th><th>Comments
	</th></tr></thead><tbody>
		<tr><td>08/08/2009</td><td>1.0</td><td>Kristopher Kortright</td><td>Original document
		</td></tr><tr><td>08/18/2009</td><td>1.1</td><td>Kristopher Kortright</td><td>Initial revisions from ElminsterEU
</td></tr></tbody></table>

<h2>Table of Contents</h2>
<ol>
	<li>Introduction
	<ol>
		<li>About This Document
	</li></ol>
	</li><li>Overview
	<ol>
		<li>Introducing FO3Edit
		</li><li>Acquisition and Installation
		<ol>
			<li>Downloading FO3Edit from Fallout3 Nexus
			</li><li>DirectX and Requirements
			</li><li>Windows Vista and UAC Security
			</li><li>Starting FO3Edit
		</li></ol>
		</li><li>Tour of User Interface
		<ol>
			<li>Master/Plug-in Selection View
			</li><li>Left-Side Panel
			</li><li>Main Context Menu
			</li><li>Right-Side Information Tab
			</li><li>Right-Side Messages Tab
			</li><li>Right-Side References Tab
			</li><li>Right-Side View Tab
			</li><li>Filter Menu
		</li></ol>
		</li><li>Saving and Confirmation
		</li><li>Quick Tips and Shortcuts
	</li></ol>
	</li><li>Master Update and Master Restore
	<ol>
		<li>Overview
		</li><li>Master Update Mode
		</li><li>Master Restore Mode
		</li><li>Using Master Update with Merged Patches (“Modding-Up”)
	</li></ol>
	</li><li>Conflict Detection and Resolution
	<ol>
		<li>Overview
		</li><li>Differences between Conflicts and Overrides
		</li><li>Applying Conflict Filters
		</li><li>Color Schemas and Display Order
		</li><li>The Conflict Resolution Process
		</li><li>Understanding Patch Plug-ins and Merged Patches
		</li><li>Creating a Patch Plug-in (Manual Method)
		</li><li>Creating a Merged Patch (Automatic Method)
		</li><li>The Conflict Detection Algorithm
	</li></ol>
	</li><li>Mod Cleaning and Error Checking
	<ol>
		<li>Overview
		</li><li>Mod Cleaning Process
		<ol>
			<li>Removing “Identical to Master” Records
			</li><li>Sorting Master File Load Orders
			</li><li>Un-deleting and Disabling References
			</li><li>Purging un-used Master File References
		</li></ol>
		</li><li>Checking For Reference Errors
		</li><li>Checking for Circular Leveled Lists
	</li></ol>
	</li><li>Managing Mod Files
	<ol>
		<li>Overview
		</li><li>Adding Master Files to a Plug-in
		</li><li>Changing Mod FormIDs
		</li><li>Merging a Plug-in into another Plug-in or Master
		</li><li>Converting a Plug-in into a Master
		</li><li>Splitting a Plug-in into a Plug-in/Master Pair
		</li><li>Comparing Two Versions of a Mod
	</li></ol>
	</li><li>Mod Utilities
	<ol>
		<li>Overview
		</li><li>Building Reference Information
		</li><li>Building Reachable Information
		</li><li>Changing and Adding References
		</li><li>Marking Nodes as Modified
		</li><li>Copying and Replicating Idle Animations
		</li><li>Applying Scripts Into
		</li><li>Deprecated Functions
	</li></ol>
	</li><li>FO3Edit FAQ
	<ol>
		<li>Overview
		</li><li>Beginner Questions
		<ol>
			<li>“What mods do I select when I first load FO3Edit?”
			</li><li>“Appling conflict filters shows almost every mod has conflicts!”
			</li><li>“Should I make changes to the mods if there is a conflict?”
			</li><li>“Where in the load-order should my patch plug-in be placed?”
			</li><li>“What does the patch plug-in really do for my Fallout3 load order?”
			</li><li>“Does FO3Edit MasterUpdate correct the white face bug?”
			</li><li>“What version of Fallout3 edit do I need FO3Edit for?”
			</li><li>“Does FO3Edit fix the Enclave radio broken by the Broken Steel DLC?”
			</li><li>“What happens if I can’t get rid of my conflicts?”
			</li><li>“What if I get an error about, ‘Record XXXX is not contained in a group’?”
			</li><li>“Does MasterRemove remove the ONAM records added by MasterUpdate?”
			</li><li>“Can I run MasterUpdate one-mod-at-a-time, to check them out?”
			</li><li>“What’s with all these backup files building-up in my Data directory?”
			</li><li>“How many mods can F03Edit load?”
			</li><li>“Will MasterUpdate work if I have 200+ mods?”
			</li><li>“After Filtering for conflicts, I don’t see anything on the Left-hand side!”
			</li><li>“Why does the Change Confirmation window force me to wait?!”
			</li><li>“I deleted a plug-in file but FO3Edit seems to think it’s still there?”
			</li><li>“How do I start the master update mode?”
			</li><li>“Should I make a new merged patch if I change my load order in FOMM?”
			</li><li>“I am having problems getting FO3Edit to work on Vista”
			</li><li>“After FO3Edit loads, I can’t get the context menu on the left to load!”
		</li></ol>
		</li><li>Intermediate Questions
		<ol>
			<li>“Should I clean all of the mods that I use including FOOK, FWE, MMM, etc?”
			</li><li>“Is there a function that pops up if you double click something?”
			</li><li>“Difference between 'copy as override' and 'deep copy as override'?”
			</li><li>“Replicating a dialogue block with all topic blocks that belong to it”
			</li><li>“Having troubles updating stuff from one mod version to another”
			</li><li>“How do I convert an ESP into an ESM?”
			</li><li>“Why should I “clean” my mod? It works just fine how it is!”
			</li><li>“Many of my NPCs in-game has stark white-faces!?”
			</li><li>“I have FOOK and get a load error like this, did I do something wrong?”
			</li><li>“I found records that I’ve changed don’t exist in Fallout3.esm!”
			</li><li>“How do I reverse MasterUpdate so I can edit my ESP in the GECK?”
			</li><li>“How can I see individual records from a mod?”
			</li><li>“How do I view all of the references in a mod, not just conflicts?”
			</li><li>“I cleaned my mod and am getting CTDs with NAVM errors?”
			</li><li>“How do I reverse an un-intended change?”
		</li></ol>
		</li><li>Advanced Questions
		<ol>
			<li>“What is Fallout3.Hardcoded.esp?”
			</li><li>“Can I have a plug-in that references another plug-in as its master?”
			</li><li>“Can I remove the delay between clicking an entry and the edit box?”
			</li><li>“Is there a “Goto” option in the context menu for pulling-up a FormID?”
			</li><li>“Can you help me with the Optcodes for IsInCombat?”
			</li><li>“During the loading process, I notice some of the mods show Errors”
			</li><li>“Is there a way to look up the records opt-codes?”
			</li><li>“is "HasPerk" available in the CTDAs?”
			</li><li>“Can we edit text in the expanded windows?”
			</li><li>“Where can I learn more about FLST Lists?”
			</li><li>“Can we list the mod index for each master/Plug-in loaded in the dump?”
			</li><li>“I have a lot of house-mods that are conflicting, how do I fix this?”
			</li><li>“Will FO3Edit merge the Eyes, Hairs, Mouth pieces, etc?”
			</li><li>“Can I merge destruction-data into my patch plug-in?”
		</li></ol>
	</li></ol>
	</li><li>Appendix
	<ol>
		<li>Testimonials
	</li></ol>
	</li><li>Cheat Sheets and Quick Reference Charts
</li></ol>     


<h2>Introduction</h2>

This document is intended as a training manual for the FO3Edit tool created by ElminsterEU. This manual contains a tour of FO3Edit, a lengthy FAQ/Navigator and several Chapters of detailed instructions on how you can utilize the varied functions of FO3Edit successfully to improve your gaming experience.

The questions answered and processes described herein are intended to help both mod-users and mod-authors to improve the quality, standardization and conformity of Fallout3 mods. If you utilize more than 25 mods in your Fallout3 game or if you write mods for Fallout3, then using FO3Edit to resolve potential conflicts, clean mods and smoothen the loading process. With thousands of mods already created and thousands more on the way, it has become essential to standardize mod delivery and reduce conflicts where-ever possible.

 
<h3>About This Document</h3>

This document presumes a basic understanding of what “Mods” are, and how to install them on your system. This manual is not a guide on how to build mods, and the use of FO3Edit for extensive mod changes is discouraged for most users – that’s what the GECK was built for.

This document is a work in progress, as I’m always uncovering some new function in FO3Edit that I didn’t know about (the tool is 3+ years old now). ElminsterEU is also a prodigious coder that makes frequent updates to improve the quality of FO3Edit, and the documentation will be updated to follow suit.

All feedback and comments about this guide should be directed to ElminsterEU and Miaximus on the Bethesda GECK Forums.


<h2>Overview</h2>
<h3>Introducing FO3Edit</h3>

FO3Edit is an advanced graphical module viewer/editor and conflict detector, with many additional functions that make it akin to a Swiss-army knife for modders and mod-authors alike. The primary function of FO3Edit is to help you spot conflicts between mods and resolve them, as well as to prepare your mod-list for a smooth run-time with Master Update Mode (MUM).

MUM resolves some bugs with Fallout3 and improves mod compatibility during run-time by turning all mod files into masters (ESM) and creating the special ONAM records that allow the mod files to work together smoothly. The process of Modding-Up involves using both MUM and a Merged-Patch to create the best-possible compatibility situation.

For the mod author FO3Edit provides the capability of viewing mod files at great depth, cleaning mod files of extraneous and duplicated records, merging mods together, changing ESPs to ESMs and scanning references in mod files for reach ability, form errors and specific references. These functions are very important to mod authors in the Fallout3 environment, as they will clean the mod of un-intended changes, erroneous records and potential conflicts with other mainstream mods that players run.

Thus whether you use mods to enhance your Fallout3 experience or create mods for others to enjoy, using FO3Edit is both a wise investment in time and a beneficial act for the modding community. Authors who clean and prepare their mods with FO3Edit will experience fewer conflict and compatibility problems once published, and Players who de-conflict and MUMify their load-orders will be Modding-Up, and are much less likely to experience crashes and head-aches. In general the use of FO3Edit can only improve the inter-operability of all mods, and this can only be a good thing.

If I have not convinced you by now to invest an evening to learn how to use FO3Edit, then you should be sacked and have a live Nuka-grenade stuffed down your trousers. If however you wish to do the right thing by the modding community, grab a coffee and let’s get to work! FO3Edit is not a difficult tool to use, but it does require that your CPU (brain) be involved in the process, and that is what this tutorial is designed to teach.

 

<h3>Acquisition and Installation</h3>
<h4>Downloading FO3Edit from Fallout3 Nexus</h4>

FO3Edit works on Windows XP, Vista and Windows 7, other platforms or Windows simulators may or may not work and are not officially supported. FO3Edit is available for download from Fallout3 Nexus, one of the most outstanding sources for Fallout3 and Oblivion content. Click Here to FastLink or use the following URL in your browser:

http://www.fallout3nexus.com/downloads/file.php?id=637

The following page will display from the Fallout3 Nexus site. You will need to first click on, “Files” to display the list of FO3Edit versions. Once loaded, check the Version number in the upper-right corner (B) to ensure you download the most current revision. Then click on that revision of FO3Edit in the Mail Files section (C).

<img src="./Miax's Tome of FO3Edit_files/image002.jpg">

<p>Once you download the program, you will need an archive extraction tool that can handle 7-Zip files (.7z), such as 7-Zip, which is available at: <a href="http://www.7-zip.org/">http://www.7-zip.org/</a>.


</p><p>Once the archive is open, you will need to extract the FO3Edit files into the right place in order for it to function. That place is the Fallout3\ directory, where the Fallout3.exe program is installed. Do Not install into the Fallout3\Data directory or the program will not function correctly as shown below.

<img src="./Miax's Tome of FO3Edit_files/image004.jpg">

</p><p>Note: the FO3Edit package also contains a special file called, "Fallout3.Hardcoded.keep.this.with.the.exe.and.otherwise.ignore.it.I.really.mean.it.dat". This file needs to be in the same folder as the FO3Edit.exe. It contains records which are hardcoded in the Fallout3 game engine.

</p><p>What makes these special is that the records are referenced in Fallout3.esm but are NOT contained in Fallout3.esm (they are in the binary). FO3Edit automatically loads fallout3.hardcoded.esp… at the same load order index [00] as Fallout3.esm so that these hardcoded values can be used in conflict detection and resolution. You shouldn’t touch this file until your ready to un-install.

</p><p>The fallout3.hardcoded.esp simply needs to be in the same folder as the FO3Edit.exe. FO3Edit automatically loads fallout3.hardcoded.esp at the same load order index [00] as Fallout3.esm so that these hardcoded values show up as coming from, "Fallout3.exe" while working in FO3Edit.



</p><h2>DirectX and Requirements</h2>

<p>With
FO3Edit installed let’s review some system parameters and drivers that you will need in order to successfully operate the tool. FO3Edit requires current DirectX drivers from Microsoft. You can tell if your system is up-to-spec by simply launching the tool. If FO3Edit loads and presents you with a Master/Plug-in Selector view, your good to go but you can skip this next step. If you get an error about d3dx9_*.dll not being installed, you need to update your DirectX. The most current DirectX version can be found at the following locations:
</p><ul>
	<li>DirectX End-User <a href="http://www.microsoft.com/downloads/details.aspx?familyid=2DA43D38-DB71-4C1B-BC6A-9B6652CD92A3&displaylang=en">Runtime Web Installer</a>
	</li><li>DirectX End-User <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=740ac79a-5b72-447d-84f9-ee6407ed1a91&DisplayLang=en">Runtimes Redistributable</a> (install it after unpacking it)
</li></ul>
<p>Once DirectX is installed, you should be able launch the FO3Edit application successfully. If you still get errors, please report them to Miaximus or ElminsterEU.

</p><h3>Windows Vista and UAC Security</h3>

<p>The UAC Security feature of Vista protects the Program Files directory from un-authorized access. Unfortunately this also causes problems for FO3Edit and Fallout3, and requires some manual intervention on your part to resolve. You have 3 options for dealing with UAC Security:
</p><ul>
	<li>Disable the UAC completely, but this will leave your system more vulnerable. (not recommended)
	</li><li>Install Fallout3 and FO3Edit in the C:\Games\Fallout3 folder, which is not controlled by UAC and will prevent conflicts. (recommended)
	</li><li>Assign the "Users" group "Full Control" of the Fallout 3 folder in UAC, which will prevent UAC from causing problems.
</li></ul>
<p>Any of the above options will work, though it is probably a better option to install Fallout3 and FO3Edit into C:\Games\Fallout3 directory and avoid the Program Files directory all-together. That leaves your system secure and averts the UAC problem for Fallout3.

</p><p>If you are unable to get past the UAC restrictions, post the details of the problem to the Fallout3 GECK forum for additional assistance. If all went well with the install, you should be able to successfully run FO3Edit.

</p><h2>Starting FO3Edit</h2>

<p>When started it will automatically find your Fallout 3 Data directory via the system registry (not by where it was installed). If you immediately get errors indicating that FO3Edit can’t find the Fallout3 files, it means you moved the files to another directory after installing FO3Edit. You need to re-install the Fallout 3 Game again and place it into whatever directory you want as part of the install process.

</p><p>If FO3Edit starts, you get a dialog to select which modules you want to load with the current selection from your Plugins.txt as default value. This order will have been set by <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>, and cannot be changed in FO3Edit. If you need to change your load order, close FO3Edit and change the load-order in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>, then re-launch FO3Edit.

</p><p>Select the mods that you want to load into FO3Edit, which can be All (for conflict detection) or just one if your working on a specific mod-file. Once you have confirmed that dialog the selected modules will start loading in the background. Depending on your system it should take 30 seconds to a few minutes (!) for all modules to load. You can follow the progress in the message window. (Don't panic if it seems to freeze, it just takes time).

</p><p>The tree view on the left side now shows all active modules in their correct load order. By navigating that tree view you can look at every single record in any of your modules. An example of a successful launch of FO3Edit is shown below, though you may also see additional error information if errors were found during start-up.

<img src="./Miax's Tome of FO3Edit_files/image006.jpg">

</p><h2>Tour of User Interface</h2>

<p>This section of the manual will take you on a brief tour of FO3Edit to introduce you to the different views and screens that you will be working with. This tour is designed for beginner-level users, and does not discuss the functionality of the views at any depth just yet. The tour is recommended for all levels of user, especially if you have not used FO3Edit within the last several months as there have been many updates.

</p><h3>Master/Plug-in Selection View</h3>

<p>The Master/Plug-in Selection view is presented to you when FO3Edit is first launched, and allows you to select/un-select the mods that you want FO3Edit to load. You can also Right-Click in open space to access more options, such as "Select All" or "Select None".

<img src="./Miax's Tome of FO3Edit_files/image008.jpg">

</p><p>To change the load-order of mods, close FO3Edit and open <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>. Change the load-order as desired, close <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> and re-open FO3Edit.

</p><p>There is an additional option you can use to quickly load a single mod – simply Double-Click on a mod file in the list. Double-clicking a mod will automatically un-select all other mod files, and will load the selected mod file. It’s a short-cut to loading single mods.

</p><h3>Left-Side Panel</h3>

<p>The Left-Hand side of the main FO3Edit view is the most heavily used in FO3Edit, containing both a higher-archical data-tree structure for all references as well as the main context menu. It also contains a status bar and search boxes for hunting-down specific FormIDs or EditorIDs as shown below:

<img src="./Miax's Tome of FO3Edit_files/image010.jpg">

</p><p>The main context menu (B) contains all of the major FO3Edit functions, including Filters, Reference hunts, Error checking, Removing Extraneous content and many more. There are also several functions that do not apply to Fallout3, such as Generate Object LOD. We will discuss each of the important options for Fallout3 in the tutorials below.


</p><h3>Main Context Menu</h3>

<p>The main context menu is accessed by Right-clicking in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a>, and acts as the main navigation and function selection point for FO3Edit. As such, much time and explanation is provided on how to utilize this menu, as well as a Reference Chart (shown below) to help illustrate what each function does.

<img src="./Miax's Tome of FO3Edit_files/image012.jpg">

</p><p>There are some functions such as, "Generate Object LOD" and the "Set VWD for all REFR…" options that only work on Oblivion, and should not be used with Fallout3. With some functions you will be presented with additional options, while with others such as "Check for Errors", the output is sent to the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> (or other tabs with other functions).

</p><p>Each of these functions is described in-detail within the tutorial, and Quick Links to those detailed sections can be found in the list below for easy-access. Additional description is provided below for each function on the main context menu.

</p><table>
	<thead><tr><th>Function</th><th>Description
	</th></tr></thead><tbody>
		<tr><td>Compare To</td><td>Loads another module at the same load order index as the one under the cursor when you right clicked. Works very well to compare 2 different versions of the same module against each other.
		</td></tr><tr><td>Apply Filter</td><td>This function will present you with the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Filter_Menu">Filter Menu</a>, where you can select options on how you want to filter (restrict) the data shown in FO3Edit.
		</td></tr><tr><td>Remove Filter</td><td>This function will remove the current filter, so that all loaded-data will be presented and processed.
		</td></tr><tr><td>Building Reference Info</td><td>This function will build reference information for the currently select mod, which can be used after extensive changes are made.
		</td></tr><tr><td>Building Reachable Info</td><td>This function scans all references in a selected mod and will determine which are reachable (by the player in-game) from those that cannot ever be reached or accessed by the player. This function takes into account the totality of all loaded modules (looking only at the contents of the winning version of each record). So it's possible for the reachable status to be different for a record, depending on which other modules you've loaded.
		</td></tr><tr><td>Checking for Errors</td><td>This function is used to check for reports any case where the information in the module file does not match the FO3Editrecord definitions. This is Not a check for missing references, physical or data errors – that is done during the loading process with results available in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a>.
		</td></tr><tr><td>Checking for Circular Leveled Lists</td><td>Leveled Lists can reference other Leveled Lists, it's possible in this case to build a circular reference (with as little as 2 leveled lists directly referencing each other, or any number of additional leveled lists in the chain). When the game engine then tries to resolve that leveled lists down to a particular item/creature/NPC it can get caught in the endless loop and crash.
		</td></tr><tr><td>Renumbering FormIDs</td><td>This function will re-number all references in a selected mod file, starting from a number that you specify. This function does not in any way resolve conflicts, and should be used only if you know exactly what you are doing (as it will result in incompatiblities with existing save games and any module which uses this module as a master). This function was implemented for the BetterCities team, so that they could assign non-overlapping FormIDs to each of their city specific esp's, to prevent the need for changing FormIDs when merging the city-specific esp's into the alternative "full" esp which contains all cities.
		</td></tr><tr><td>Un-deleting and Disabling References</td><td>This function is used to un-delete any references in a selected mod file that were deleted in a previous edit, and instead mark them as "disabled". That will ensure that no conflicts occur if another mod depends on the object being deleted, and setting it to "disabled" will ensure that the original intent of the mod author (to remove the object from the game) is true as the player will never see a disabled object. More on this in the section on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Mod_Cleaning_and">Mod Cleaning</a>.
		</td></tr><tr><td>Removing "Identical To Master" Records</td><td>This function will remove any record in a selected mod file that are identical to a record in the master files. This happens often when using the GECK, that some scripts or objects get marked as "modified" even though no changes were made. This bloats a mod file and makes it vulnerable to conflicts with other mods. More on this in the section on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Mod_Cleaning_and">Mod Cleaning</a>.
		</td></tr><tr><td>Applying Scripts Into</td><td>This function is used to apply a script(s) into a specific reference, and writes the resulting new or override records into the specified module.
		</td></tr><tr><td>Creating a Merged Patch</td><td>This function is used to build the foundation of a merged patch-file, resulting in a new mod file using a name you select. More on this in the section on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Resolution">Mod Conflict Resolution.
		</a></td></tr><tr><td>Set VWD for all REFR with VWD Mesh in this file</td><td>This function only works with Oblivion, and should not be used for Fallout3 mods under any circumstances.
		</td></tr><tr><td>Set VWD for all REFR with VWD Mesh copy as override</td><td>This function only works with Oblivion, and should not be used for Fallout3 mods under any circumstances.
		</td></tr><tr><td>Generate Object LOD</td><td>This function only works with Oblivion, and should not be used for Fallout3 mods under any circumstances.
		</td></tr><tr><td>Add (Reference)</td><td>What exactly that menu shows you is depending on the context, if you right click on a file node you will get a list of all groups that don't exist yet, if you right click on a group you get a list of all records that can be added to it and so on. And yes, this can be used to add new records, so you can basically build a mod from scratch with it.
		</td></tr><tr><td>Mark Modified</td><td>It will mark the currently selected node and all child nodes as modified. To minimize the chance that FO3Editbreaks something that it doesn't fully understand when saving, only records that are marked as modified are assembled field by field, sub record by sub record. Any record or even complete group that is not marked as modified is simply copied unchanged as a blob of bytes from the old module file into the newly saved one.
		</td></tr><tr><td>Add Masters</td><td>This adds a new master to the MAST sub record in the file header and correctly renumbers the FormIDs in the module. This function is also used to create an ESM/ESP pair from a single ESP plug-in.
		</td></tr><tr><td>Sort Masters</td><td>This function will sort the global load-order of master files to match the order of global load order.
		</td></tr><tr><td>Clean Masters</td><td>This function will scan a Plug-in for Master ESM dependencies, determine if any Masters are un-used by the plug-in and remove them.
		</td></tr><tr><td>Copy Idle Animations Into</td><td>This function is used to copy all of the idle animations from one skeleton to another, which replicating monsters.
		</td></tr><tr><td>Hidden</td><td>This function hides the selected mod file(s) or references from further view/processing by FO3Edit.
</td></tr></tbody></table>

<h3>Right-Side Information Tab</h3>

<p>The Information Tab holds a textural version of the FO3Edit help guide, including basic information on mod conflict resolution, instructions on using <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">Master Update Mode</a> and a legend on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Color_Schemas_and">how to interpret the color-scheme</a> of text and background. You can reference this tab at any time as a cheat-sheet of sorts on how to use FO3Edit.

<img src="./Miax's Tome of FO3Edit_files/image014.jpg">

</p><p>You can also capture any/all sections of the help information by Right-Clicking in the view-pane (A) and selecting one of the textural options presented to you.


</p><h3>Right-Side Messages Tab</h3>

<p>The Messages Tab acts like a running log-file of what FO3Edit is doing in response to your actions. When you first load FO3Edit, the Messages Tab is displayed by default so that you can watch the loading process in real-time. This is important as any Errors in the mod files such as missing references, missing files or dirty-edits to a mod file done in a hex-editor can all result in errors. Most of these will be harmless to Fallout3, but some are lethal and you can see them all in the Messages Tab while they are loaded into FO3Edit. The view below shows an example:

<img src="./Miax's Tome of FO3Edit_files/image016.jpg">

</p><p>Any actions that you take which result in changes to the files, such as Saving,
will also print their output into the Messages Tab. Thus it is important to check this tab often while working in FO3Edit, as there are cases in which a mod file won’t save due to errors – and you want to know about that as soon as a problem occurs.


</p><h3>Right-Side References Tab</h3>

<p>The References Tab is used to locate all occurrences of a particular reference such as Soda Bottles, Projectiles and Explosions. If you select a reference in the Left-Hand window, such as the "Glass Explosion" from the <a href="http://www.fallout3nexus.com/downloads/file.php?id=1904">Destroyable Environments</a> Mod by <a href="http://www.fallout3nexus.com/modules/members/index.php?id=173512">Bigkid7834</a>, where every occurrence of that Glass Explosion in the in the game is displayed.

<img src="./Miax's Tome of FO3Edit_files/image018.jpg">

</p><p>You can also Left-Click on any reference in the Referenced By view to present a copy/remove menu. Here you can literally delete the reference of the object out of the mod, or copy it into another mod (perhaps a patch plug-in, discussed in detail in the chapter on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Resolution">Conflict Detection and Resolution</a>. These functions are especially useful for gaining a high-level understanding of what the mod contains, and where references can be found (a task which can be exceedingly difficult in the GECK).

</p><p>You can also double click entries in that list to directly jump to that record (and switch to the View tab), you can then use the backward button in the top right corner or on your mouse (if it got more then 2 buttons).



</p><h3>Right-Side View Tab</h3>

<p>The View Tab is used to display the details about any record that you click-select in the Left-Side Panel. The View Tab is where most of the work of conflict resolution takes place. Each mod that has a copy/version of a selected record is shown in the view with its own Column. This way, all of the mods that have a version of the same record can be shown side-by-side to more easily navigated and spot conflicts. The screenshot below high-lights details about the View Tab.

<img src="./Miax's Tome of FO3Edit_files/image020.jpg">

</p><p>We discuss this view at depth in the chapter on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Resolution">Conflict Detection and Resolution</a>, but for now it’s only important to understand its high-level function and how to navigate to it. As in the Referenced-By Tab, within the View Tab you can Right-click on any reference to receive an additional context menu. You can edit and remove any entry, as well as tell FO3Edit what kind of view your looking for; with or without de-conflicted rows (rows without a conflict of any kind).

</p><h3>Filter Menu</h3>

<p>The Filter view is used for several purposes in FO3Edit; from conflict resolution to mod cleaning to reference viewing and reach ability data – all are achieved by activating a FO3Edit Filter. The Filters essentially work to restrict what data you see in FO3Edit to just what you want to see or are working on, and in some cases data is parsed (such as in conflict detection). When trying to <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Resolution">de-conflict a list of mods</a>, the Filter is used to show you only the records that show a conflict – leaving the un-conflicted rows invisible.

<img src="./Miax's Tome of FO3Edit_files/image022.jpg">

</p><p>As you can see there are dozens of different options you can select in the filter view. Not to worry though, we will give you the correct filter options to select for each of the functions you perform with FO3Edit. For now it is only important to recognize this as the Filter View, which gives you unprecedented viewing access to mods files. You can Apply and Remove Filters from the main context menu as shown below:

<img src="./Miax's Tome of FO3Edit_files/image024.jpg">

</p><h2>Saving and Confirmation</h2>

<p>You can save your changes at any time by pressing, "Alt" and "S", and when you exit
FO3Edit (if there are changes to save). If you have not saved for while, FO3Edit may also remind you that it’s a good time to save. When the, "Save changed files" window is presented, click on the mods you want to save. The screenshot below illustrates this process:

<img src="./Miax's Tome of FO3Edit_files/image026.jpg">

</p><p>The output of each save is available in the Right-hand Messages Tab. It is important to check this, as sometimes errors in a mod file can prevent you from successfully saving it.

</p><h2>Quick Tips and Shortcuts</h2>

<p>There are several important keyboard short-cuts that can make your usage of FO3Edit more efficient with less key-strokes for some common functions.

</p><table>
	<thead><tr><th>Key Combination</th><th>Function
	</th></tr></thead><tbody>
		<tr><td>Ctrl+S</td><td>Opens the Save Files dialog.
		</td></tr><tr><td>Ctrl+click on a FormID in the right side pane</td><td>Jump to the selected Record in the tree view.
		</td></tr><tr><td>Double click on an entry in the Referenced By tab</td><td>Jump to the selected Record in the tree view.
		</td></tr><tr><td>Press F2 with the mouse over a field in the right side pane</td><td>Edit the field in the pane view immediately.
		</td></tr><tr><td>Press F2 with the mouse over a record in the tree view</td><td>Edit the Form ID of the selected Record.
</td></tr></tbody></table>

<h1>Master Update and Master Restore</h1>

<h2>Overview</h2>

<p>Master Update Mode is the solution to the bugs introduced in Patch 1.5 in regards to Plug-ins,
as well as the white-face bug and a number of older issues with mod conflicts. Master Update (MUM) is highly recommended for all modders, as it can prevent crashes, incompatibilities and may provide you with a smoother gaming experience.

</p><p>FO3Edit also provides the native ability to reverse the Master Update process, returning all MUM(ified) plug-ings back to their original ESP state. This process is called Master Restore Mode (MRM), and will all you to edit your plug-in with the GECK. As the GECK will not allow you to set a Master (ESM) as the Active file, the MRM(er) process is required in order for you to modify your plug-ins again after running Master Update Mode.

</p><p>Thus in the tradition of UNIX nomenclature, you must first MUMify your plug-ins to play, and them MRMer at them to edit them in the GECK. This section describes both processes at depth.

</p><h2>Master Update Mode</h2>

<p>Master Update Mode is activated by creating another copy of the program, and renaming it to, "FO3MasterUpdate.exe". When FO3Edit runs, it will recognize its filename and run in Master Update Mode accordingly.

</p><p>When Master Update Mode is activated, the following operations are performed without further user interaction:
</p><ol>
	<li>All modules in the Data folder are assigned into 2 groups, masters and Plug-ins, based on their file extension (.esm or .esp).
	</li><li>The modules in each group are sorted by file modification date/time.
	</li><li>All module files are re-dated, first all masters, then all Plug-ins, in 1 minute intervals.
	</li><li>All active modules are then loaded, the ESM flag set in the file header if not yet present, and the ONAM sub records build if required.
	</li><li>Any temporary overriding world space record that has at least one previous version that is persistent is marked as persistent.
	</li><li>All modified modules are saved.
</li></ol>

<p>This process will result in a better-integrated group of mods, and will likely result in less crashes than without having run Master Update Mode. 
The process of creating the second copy of FO3Edit for Master Update Mode is illustrated below:

<img src="./Miax's Tome of FO3Edit_files/image028.jpg">

</p><p>This makes it possible to take an existing setup using patch 1.4 or older which contains mods that are broken by the bugs in patch 1.5 to be updated to patch 1.5 (likewise with v1.6), and used with existing save games without being messed up by the bugs.



</p><p>The screenshot below shows you screenshots of a common setup, and the output of Master Update and Master Restore Modes:

<img src="./Miax's Tome of FO3Edit_files/image030.jpg">

</p><p>You must close the program to finalize and save the settings, or your MUMifcation will not be completed. Running Fallout3 with MUM open will cause problems, so make sure you close the program when you see the, "--= All Done =--"indication.

</p><p>It is recommended that you create icons for both MUM and MRM (along side of the FO3Edit Icon) so that you can conveniently run either depending on whether you’re playing or modding in the GECK. This is considered the best practice.

</p><p>You can safely delete the Backup files at any time; these are created for your protection. You can restore a mod from one of these backups simply by renaming the backup file to the original plug-in filename.

</p><h2>Master Restore Mode</h2>

<p>There is also a MasterRestore mode which reverses the MUM process by removing the ESM flag again from all .esp files. Similar to Master Update Mode, you need to copy/paste the FO3Edit.exe. Program, and rename the new copy to, "FO3MasterRestore.exe".

</p><p>This will give you 3 icons; FO3Edit.exe, FO3MasterUpdate.exe and FO3MasterRestore.exe. Once you launch the Master Restore Mode (MRM), the rest of the action is automatic. The screenshot below illustrates the output of Master Restore Mode:

<img src="./Miax's Tome of FO3Edit_files/image032.jpg">

</p><p>You must close the program to finalize and save the settings, or your MUMifcation will not be completed. Running Fallout3 with MUM open will cause problems, so make sure you close the program when you see the, "--= All Done =--"indication.

</p><h2>Using Master Update with Merged Patches ("Modding-Up")</h2>

<p>The best practice for produce the most-stable conditions possible for your mod-list, we recommend that you use both a Merged Patch and Master Update Mode
(MUM). This will resolve as many conflicts as possible via the Merged Patch,
which will prevent crashes and mod issues. By then running MUM before you play,
you will resolve some Fallout3 bugs not fixed in the Bethesda patches and will rebuild and re-sync the ONAM records between the master files.

</p><p>The author has found this combination of Merged Patch and MUM to be outstanding in bringing large numbers of mods together with a crash-free gaming experience. I describe the process as, "Modding-Up". The process of Modding-Up is seven steps long and very simple, requiring almost no analytic thought as described below:

</p><ol>
 <li>Launch <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> and Uncheck any previous merged patches, then close <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>
 </li><li>Launch FO3Edit, making sure the correct mods are checked, select, "OK"
 </li><li>Right-click in Left-Side Panel and select, "Create Merged Patch"
 </li><li>Close FO3Edit and Save the new Merged Patch.
 </li><li>Launch <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> and Check/Select the new Merged Patch, then close <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>
 </li><li>Launch <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a>, ensure no errors occur, then close the program
 </li><li>Launch <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> and select, "Launch <a href="http://www.fallout3nexus.com/downloads/file.php?id=4888">FOSE</a>" to play!
</li></ol>

<p>The process is diagrammed an illustrated below. To start Modding-Up, Launch <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> (A) and check the mod-list to make sure any pervious Merged Patches are un-checked/not-selected to load (B). Then close <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> to save the load order (C):

<img src="./Miax's Tome of FO3Edit_files/image034.jpg">

</p><p>In Step #2, launch FO3Edit (A) and review/ensure the mod-order list is exactly as you want it (B). If you find problems in the load order,
close FO3Edit and change it in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> first. Once satisfied with the order, select, "OK" (C) to load the mod list into FO3Edit:

<img src="./Miax's Tome of FO3Edit_files/image036.jpg">

</p><p>Once FO3Edit loads, check the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> (A and B) for any errors noted. If you find errors, you should either resolve them or remove the mod from your load order list. Any errors found at this stage are bad and can cause crashes later no mater what you do.

<img src="./Miax's Tome of FO3Edit_files/image038.jpg">

</p><p>Once satisfied that your load-order is clean, proceed forward to create the merged patch!



</p><p>To create the merged-patch in Step #3, Right-click anywhere in the Left-Side Panel of FO3Edit (A) to render the main context menu,
then select, "<a href="http://dl.dropbox.com/u/17043363/readme.html#_Creating_a_Merged_">Create Merged Patch</a>" (C) as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image040.jpg">

</p><p>You will be prompted to enter a new filename for the new merged patch as shown below. Select a unique filename, preferable something that is self-explanatory as a merged-patch and not a real mod:

<img src="./Miax's Tome of FO3Edit_files/image042.jpg">



</p><p>Once the filename is chosen, FO3Edit will create the merged-patch while showing you the logfile output in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> (A). Note that the master file references for almost (if not every) mod in your list are added to the merged-patch. This allows the merged-patch to contain records for any/every mod file, merging together the conflicts as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image044.jpg">

</p><p>For Step #4, simply close FO3Edit. This will present you with a Save Changed Files window, in which you must ensure that your newly-created merged-patch is checked for saving (A). Select, "OK" to save the merged-patch
(B) as shown below:

<img src="./Miax's Tome of FO3Edit_files/image046.jpg">



</p><p>For Step #5, re-launch <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> (A) and select/Left-click your new merged-patch (B), which should be listed as the last entry in the load list. Once done, close <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> (C) to save the load-order to disk.

<img src="./Miax's Tome of FO3Edit_files/image048.jpg">

</p><p>In Step #6 it’s time to launch <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> (A), which shows output similar to the screenshot below. Note that a successful run of <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> will end with an "All Done" message (B). If you see this, you’re good to go! Close <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> (C):

<img src="./Miax's Tome of FO3Edit_files/image050.jpg">

</p><p>Lastly,
for Step #7 you launch <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> for the final time (A) and select, "Launch <a href="http://www.fallout3nexus.com/downloads/file.php?id=4888">FOSE</a>" (B) to play Fallout3! You will now be running with the best-configuration possible.

<img src="./Miax's Tome of FO3Edit_files/image052.jpg">

</p><p>Modding-Up is a highly recommended practice for all modders. After you’ve done it a few times, the process will become second nature and you will thank yourself many times over for it. The author Mods-Up every time he plays, running 100+ mods, and almost never crash or have mod issues. So, are you <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modded-Up</a>?!?

</p><h1>Conflict Detection and Resolution</h1>

<h2>Overview</h2>

<p>One of the primary roles of FO3Edit is for conflict detection and resolution, so that multiple mods that modify the same records can work together successfully. Conflicts and Overrides are not always bad, and in fact the entire idea of "modding" is to make changes to the game that replace (and thus create a conflict or override for) the original records that came with Fallout3. That is why our goal is to detect conflicts, determine their nature and resolve the bad conflicts while leaving good changes in place.

</p><p>The name of the game with Conflicts Resolution is load-order, as Fallout3 will count the last record loaded as the winner of any conflict between files. For example, two mods are added to the load-order; ModA and ModB. ModA changes the color of a standard lantern from a Neutral color to a Warmer color. ModB changes the radius of the same lantern by 50%, making it brighter. If ModA loads before ModB, the changes made to the lantern by ModA get over-written by ModB (which still thinks the lantern has a Neutral color). This is a bad conflict, and overcoming them is the focus of this chapter. Negative or bad conflicts can also occur when mods make radical changes to the same world cell as the example below shows, while others can result in missing references, features in-game and even game crashes. The picture below is a poster-child example of how mods can fight over the same space and result in a bad change to the game:

<img src="./Miax's Tome of FO3Edit_files/image054.jpg">

</p><p>Some conflicts are very apparent in-game such as in the example above, while others are hidden and only reveal themselves via crashes or when mods don’t work right. In the worst case scenario Fallout3 will crash more often, sometimes constantly. These are the conflicts that we need to detect and resolve, while leaving the bulk of the good/intended conflicts and overrides left un-changed. We discuss the process in depth below.

</p><h2>Differences between Conflicts and Overrides</h2>

<p>There is a huge difference between a "conflict" and an
"override". There are mods which override changes from a master file, such as changing the level cap. If for example, ModA changes the level cap to 40 from the default, this over-rides the level 20 cap in the Fallout3 master files and is a normal. Overrides are not conflicting in any way. Overrides show up in FO3Edit with a Yellow background color and Green text color. In most cases you don’t need to do anything with Overrides.

</p><p>To get a <bmso-bidi-font-style: normal'="">conflict you need to have the same FormID defined in at least 3 modules, a master, and 2 overrides. The conflict arises when the two overrides change different aspects of the same record, so that when the mods are loaded by Fallout3, the last-mod loaded overrides the changes of the first-mod. Thus the last loaded mod is the, "Conflict Winner" while the first mod, whose changes were overridden, is the, "Conflict Loser". Conflict Losers will show up with a red background, red text. The screenshot below illustrates the differences as seen in FO3Edit:

<img src="./Miax's Tome of FO3Edit_files/image056.jpg">

</bmso-bidi-font-style:></p><p>In all this it's important to say, it's perfectly possible for 10 modules to override the same record without a single conflict, as long as the last loaded version of that record includes all the changes from the 10 other modules. That's what creating Patch Plug-ins is all about, and the process starts with applying a Filter.

</p><h2>Applying Conflict Filters</h2>

<p>The application of Filters is the primary means of conflict detection for FO3Edit. When you apply a filter, the loaded mod data in FO3Edit is parsed and analyzed via a complex algorithm (described below) to detect all conflicts and overrides. The list of mods in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> changes color (text and background) based on conflict status of each, and the results are shown in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> which also changes color (text and background). The color-schema matches throughout FO3Edit, so you won’t have to memorize more than one (described in detail below).

</p><p>To begin, Right-click in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> and select, "Apply Filter" as shown in Step 1 and 2 below:

<img src="./Miax's Tome of FO3Edit_files/image058.jpg">

</p><p>The Filter window will now be presented, allowing you to check and un-check options according to the screenshot below (which are the settings for conflict detection). 



</p><p>In the example screenshot below of the Filter window, the options A-E are the Only options that should be checked, after which you can click, "Apply" (F) to start the filter.

<img src="./Miax's Tome of FO3Edit_files/image060.jpg">

</p><p>Once you click on Filter (F), FO3Edit will filter and analyze all of the loaded mods against the conflict-detection algorithm. This may take some time depending on how many mods you have loaded and how robust your computer is. The progress is shown in the upper-right corner of FO3Edit as the screenshot below illustrates:

<img src="./Miax's Tome of FO3Edit_files/image062.jpg">

</p><p>FO3Edit also keeps track of how long the filter takes to apply. If you run 100+ mods, it can take several minutes to process all of the data. Conflict detection is not simply based on the existence of multiple records for the same FormID in different modules but instead performs a comparison of the parsed sub-record data via an algorithm.

</p><p>As such the conflict detection process requires a lot of memory, and systems with less than 2 Gigabytes of RAM may suffer. If you receive an, "Out of Memory" error, then your computer does not have enough memory to process the number of mods you have chosen. Upgrade your computer or reduce the number of mods you run.

</p><p>The screenshot below illustrates how FO3Edit will look once the conflict detection process is complete. Note the [Filtering done] block in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> below (A), indicating both the success of the conflict filtering process as well as record and time statistics about the filtration result. The screenshot below shows a typical outcome:

<img src="./Miax's Tome of FO3Edit_files/image064.jpg">

</p><p>The mods-list in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> changes as the filter adjusts the text color and background color based on conflict status. The <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> will show the actual conflicts, but only when you select on a record in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">Left-Side Panel</a> as shown below:

<img src="./Miax's Tome of FO3Edit_files/image066.jpg">

</p><p>With that you now understand how to detect for conflicts with FO3Edit and where to look at the data. You’re now ready to learn about colors and display order. Understanding the color schemes behind the text and backgrounds is critical to understanding the conflicts, and how to resolve them.

</p><p>Understanding the color schema is key to understanding FO3Edit. The color coding schema is designed to make the process as simple and efficient as possible. The legend below will introduce you to the basic color schema:

<img src="./Miax's Tome of FO3Edit_files/image068.jpg">

</p><p>The same color schema is used for the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> as well as in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">Right-Hand View Tab</a>, which shows the actual conflicts. This is done for consistency, with the text/background color of the left-hand mod-list determined by the conflicts in the right-hand window. There are many cases in which the status shows a conflict has occurred (red background), but that no action needs to be taken.

</p><p>There also is the case when a module contains a record that is identical to the master
(which is usually un-intentional). If you have this module loaded alone the record will show up with a Green Background (signaling, no conflict) and Grey Text
(identical to master). Named, "dirty edits", these can be purged with the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Mod_Cleaning_Process">Mod Cleaning Process</a>. The sample below shows both the color schema and the display-order together to better illustrate how conflict detection works. FO3Edit displays each conflict in the order that the files are loaded (<a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>’s load order), with the first mod loaded listed on the Left (Purple) and the last mod loaded listed on the Right
(Orange).

<img src="./Miax's Tome of FO3Edit_files/image070.jpg">

</p><p>All conflicts are ordered this way, with any mods loaded in-between either in a conflict state (Red) or that is identical to the master (Grey) as described above. The Load Order Workflow chart below is designed to help you understand the different color-combinations that you will encounter when de-conflicting mods. The FO3Edit display order as shown above was transposed into the vertical diagram below to help better illustrate how FO3Edit determines conflict winners and losers:

<img src="./Miax's Tome of FO3Edit_files/image072.jpg">

</p><p>As the chart above illustrates, the last-file loaded is always the conflict winner and ultimately determines what loads into Fallout3. In this example <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a> and <a href="http://www.fallout3nexus.com/downloads/file.php?id=2761">FWE</a> both got lucky that the <a href="http://www.fallout3nexus.com/downloads/file.php?id=2781">RoadWardens</a> mod shared the same Flagging, or they would have been conflict losers to the Flagging set by <a href="http://www.fallout3nexus.com/downloads/file.php?id=2781">RoadWardens</a>. Not all of the mods were winners however, as <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> Flagging conflicted with <a href="http://www.fallout3nexus.com/downloads/file.php?id=2781">RoadWardens</a> and lost the Conflict, meaning the Essential and Respawn flags are not set in-game.

</p><p>The <a href="http://www.fallout3nexus.com/downloads/file.php?id=4968">FOIP (Fallout Interoperability Patch)</a>MMM, <a href="http://www.fallout3nexus.com/downloads/file.php?id=2761">FWE</a> and <a href="http://www.fallout3nexus.com/downloads/file.php?id=334">XFO</a> into merged patches that load last (after <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a>, <a href="http://www.fallout3nexus.com/downloads/file.php?id=334">XFO</a>, <a href="http://www.fallout3nexus.com/downloads/file.php?id=2761">FWE</a>, etc) and resolve all conflicts between them. However all that work can be lost if a mod that loads later has different flagging, which is why conflict detection is important for all mod users.

</p><p>The load-order workflow below shows an example of a serious script-conflict that results in some mods breaking or even crashing Fallout3:

<img src="./Miax's Tome of FO3Edit_files/image074.jpg">

</p><p>In this example, there is a 5-way conflict over a single NPC script. <a href="http://www.fallout3nexus.com/downloads/file.php?id=1925">FO3Phalanx</a>, <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a>, <a href="http://www.fallout3nexus.com/downloads/file.php?id=1663">The Yard</a>, Broken Steel and the Fallout3 master all lose this conflict, and their version of the RL3SCRIPT will not be loaded into Fallout3 at run-time. For mods like <a href="http://www.fallout3nexus.com/downloads/file.php?id=1925">FO3Phalanx</a> and <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a>, this conflict will break the mod’s functionality as critical script changes will not be there when the mod expects them to be. In FO3Edit the example above looks like the screenshot below (with conflict winner on the right), which should tie everything together that we just reviewed:

<img src="./Miax's Tome of FO3Edit_files/image076.jpg">

</p><p>The next question is how do we fix it and resolve the conflicts?

</p><h2>The Conflict Resolution Process</h2>

<p>Conflict Resolution is really a simple process that you repeat multiple times for each conflict in your load-order. It is also the point at which your CPU (brain) gets involved in the process, as determining the action to take for each specific conflict requires your input. There are really only four options available to us for conflict resolution:

</p><ol>
 <li><u>Do nothing at all</u> – Often time’s conflicts are not harmful to the game and/or may not be something important-enough for you to care about.
 </li><li><u>Change the Load Order</u> – where often times simply adjust the order in which the mods load can resolve the conflict to your satisfaction.
 </li><li><u>Add the records to a patch plug-in</u> – for cases in which the mods are important and the conflicts can’t be resolved with load-order.
 </li><li><u>Remove one of the offending Mods</u> – if two mods simply cannot get along because of massive conflicts, one of them may have to go.
</li></ol>

<p>Overall the best thing to do is change your load order or nothing at all if the conflict isn’t concerning, as that require the least effort. Adding records to a patch plug-in where conflicts can’t be resolved is the next step, and in most cases will resolve the conflict definitively. Very rarely will you need to un-load one of the mods. The process is illustrated in the figure below:

<img src="./Miax's Tome of FO3Edit_files/image078.jpg">

</p><p>Several examples are provided below to illustrate this process with real mod data. The process above is intentionally designed to be as simple as possible, and after practice you will find that it goes very fast and becomes almost second nature.


</p><p>In this example a record that has been selected in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a>, shows its detailed contents in the Right-hand <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a>, which includes all versions of the selected record from all modules which contain it. The right-most column (<a href="http://www.fallout3nexus.com/downloads/file.php?id=1925">FO3Phalanx</a>) is the module that loads last, which becomes the version of the record that Fallout 3 loads into the game. The screenshot below illustrates an example of a conflict between mods:

<img src="./Miax's Tome of FO3Edit_files/image080.jpg">

</p><p>After clicking-open the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3080">Megaton Contracts</a> mod and its Non-Player Character tree, we notice that Jericho has a conflict (red text, red background). By clicking on Jericho, the right-hand <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> gets populated with every mod that has a reference to Jericho, and sorts them by conflict winner. The right-most column (B) is the winner in all cases, which in our example means that the <a href="http://www.fallout3nexus.com/downloads/file.php?id=1925">FO3Phalanx</a> mod wins-out over the <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> mod (A) and poor Jericho ends up being non-essential (he’s just a raider washout anyway!).

</p><p>In this example the Level-cap for Jericho is also conflicted. We see that Fallout3.esm sets the level cap to 20, but Broken-Steel over-rides this and sets it to 30. However several other mods still have the level-cap set at 20 (probably un-intentionally), which conflicts with the change that Broken Steel is trying to make. Ultimately the conflict-winner is <a href="http://www.fallout3nexus.com/downloads/file.php?id=1925">FO3Phalanx</a> (E), which sets the level-cap back to 20 and leaves poor Jericho high-and-dry.

</p><p>Also important to note in this example is the mods with Grey Text / Red Background – signifying that the record is identical to the Fallout3.esm master file – and is thus redundant. At least three mods in the load order have this, "Identical to Master" condition for Jericho’s level cap, and should have been cleaned-out by the mod authors.

</p><p>In this case we do need to take action to resolve the conflicts, or Jericho will never see level 30 and will be destined to become Radroach food. The question is, "Can we resolve this conflict by simply changing the mod load-order in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>?" Let’s find out, start by closing FO3Edit and opening <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>. Simply changing the load-order in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> can often resolve conflicts. In this example, by dragging the <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> mod down below the <a href="http://www.fallout3nexus.com/downloads/file.php?id=1925">FO3Phalanx</a> mod, we force <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> to load last so it will be the conflict winner:

<img src="./Miax's Tome of FO3Edit_files/image082.jpg">

</p><p>Closing <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> (to save the load order), re-opening FO3Edit with the new load order and applying a conflict Filter yields the following results:

<img src="./Miax's Tome of FO3Edit_files/image084.jpg">

</p><p>Notice how on the left that Jericho’s essential flag conflict is now resolved, because we swapped the load order so that <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> came after <a href="http://www.fallout3nexus.com/downloads/file.php?id=1925">FO3Phalanx</a>. This worked because <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> had all of the same flags on Jericho that <a href="http://www.fallout3nexus.com/downloads/file.php?id=1925">FO3Phalanx</a> had plus the additional Essential flag. By forcing <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> to load last, the conflict is effectively resolved because Jericho gets all of the flags that each mod intended for him.

</p><p>This conflict resolution did not unfortunately fix our level-cap problem, and loading the Broken Steel.esm file last is not an option. To resolve this conflict, we need to create a patch plug-in. The patch plug-in always loads last in the mod-list order, so that the records we copy into it will win all conflicts and solve poor Jericho’s problems.

</p><h2>Understanding Patch Plug-ins and Merged Patches</h2>

<p>There are two methods by which you can create a patch plug-in to resolve conflicts; by hand or using the automatic merged patch tool. The recommend best-practice with patch Plug-ins is that you use the automatic merged patch creation tool, after which you review the merged patch and add/remove/correct anything that the automatic tool did not change to your satisfaction. This is necessary because there is often not one "correct" answer to which mod should win a conflict over the same record, and sometimes what is normally deemed correct will not be to your personal liking. We describe the manual patch Plug-in creation process first, and then show you how FO3Edit creates one automatically.

</p><h2>Creating a Patch Plug-in (Manual Method)</h2>

<p>To create a patch plug-in, you must have already created your conflict detection filter (Section 4.3). To create the new patch Plug-in, you right-click on a conflicted record (A) and select, "Copy as override" (B). This will open the file selection window, where you can choose, "&lt;new file&gt;" (E) by either double-clicking it or by checking it’s button and clicking, "OK". This will present you with a, "New Module File" window as shown on the next page, where you can select the name of your new patch plug-in.

<img src="./Miax's Tome of FO3Edit_files/image086.jpg">

</p><p>Note: You can, "Copy as Override" into any mod as well as &lt;new file&gt;, but we highly recommend that you only modify your own mods!

</p><p>The New Module File window allows you to choose any name for your patch plug-in,
after which you will be prompted to add the mod-name as a master from which you copied the record. The screenshot below illustrates the process:

<img src="./Miax's Tome of FO3Edit_files/image088.jpg">

</p><p>Once confirmed, FO3Edit will add <a href="http://www.fallout3nexus.com/downloads/file.php?id=1925">FO3Phalanx</a> as the master-file of your new patch plug-in. This happens because we chose the Jericho reference from <a href="http://www.fallout3nexus.com/downloads/file.php?id=1925">FO3Phalanx</a> when we did the, "Copy as override into…". If we had chosen <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> instead, it would set that as the master file for our patch plug-in instead. This ensures that when you copy a reference into your patch plug-in, any data needed for it from the original mod file can be accessed by Fallout3 at run time. Once complete, you will see:

<img src="./Miax's Tome of FO3Edit_files/image090.jpg">

</p><p>Note how your new patch plug-in, "MyPatchPlug-in.esp", has been created and now occupies the right-most column, making it the conflict winner. Also note that BetterCaravans is now in conflict because the Essential flag has not yet been moved over, as well as the level-cap and quest key. Now that our patch Plug-in has been created, we can correct all of the conflicts on poor Jericho (but does he <i>Deserve</i> it?!?)

</p><p>We can now literally ‘drag n’ drop’ each of these items into our new patch plug-in. We do this operation more than any other in FO3Edit when making a plug-in, as once the initial creation step is complete, its simply a matter of dragging all of the overrides that we want into the patch plug-in as shown below:

<img src="./Miax's Tome of FO3Edit_files/image092.jpg">

</p><p>Note that for the key we dragged it from the top-level, "Item" entry for that record, and not from the key item row itself. The Item row is the root-level for this particular object (including its Count variable, etc). As such FO3Edit will only let you "drag" from the correct row-level, so you don’t have to worry about getting it wrong! The screenshot below shows the result, with the key now replicated into our patch plug-in.

<img src="./Miax's Tome of FO3Edit_files/image094.jpg">

</p><p>A few notes here;

</p><p>Text color changed to Green, indicating the conflict is resolved!

</p><p>The Essential flag and level-cap still need to be Drag n’ Dropped.

</p><p>Next we finish dragging the conflict rows into our patch plug-in to resolve the Essential flag conflict, using the same method as we did above:

<img src="./Miax's Tome of FO3Edit_files/image096.jpg">

</p><p>The screenshot below shows the results, with the Essential flag now replicated into our patch plug-in. The last thing we need to do is correct the level-cap conflict with Broken Steel, so we can get Jericho up to the maximum ruthlessness. We could drag n’ drop this from the Broken Steel master entry, but instead let’s illustrate the edit function. Simply right-click on the value in your patch plug-in (A) and select, "Edit" (B) as shown:

<img src="./Miax's Tome of FO3Edit_files/image098.jpg">

</p><p>Once you select, "Edit", you will be presented with an Edit dialogue window, where you can type in the level that you want. Some fields will instead show you a list of Flags that you can check/un-check, all depending on what type of record you are editing. The last screenshot below shows the final result, with Jericho ready to kick some ass!

<img src="./Miax's Tome of FO3Edit_files/image100.jpg">

</p><p>This example illustrates the dangers of making changes willy-nilly when patching manually, and why this method is ultimately better at resolving conflicts that the automated merged-patch. The merged-patch will produce a nearly crash-free game very quickly, but some subtle features of mods will inevitably not work. By manually patching and understanding each change, we can solve for these conflicts to our own satisfaction. Whether you retain the essential flag or remove it, is a player-by-player personal decision for what you want form your gaming experience.

</p><p>The final step is to save your patch plug-in, so we don’t loose all our hard work! The most convenient way is to hit, "Alt-S", which will present you with a save window as shown below:

<img src="./Miax's Tome of FO3Edit_files/image102.jpg">

</p><p>The, "Save Changed Files" view will present you with all of the mod files that have changed since the last save or boot up. This is handy, as you can un-check any files that you do not want to save, giving you finer control and ensuring you don’t accidentally save a mod file that is not your own. Ensure that our, "MyPatchPlug-in" is checked (A), and click, "OK" (B) to save your Plug-in.

</p><p>You can get confirmation that the save was successful by clicking on the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> (C), where you will see a, "Done Saving" message. If there was any problem with the save, you would see an Error message instead.

</p><h2>Creating a Merged Patch (Automatic Method)</h2>

<p>FO3Edit provides an automatic method of generated a merged patch, which is the same as a patch Plug-in but contains resolved conflicts from All of the loaded mods. This will greatly speed the conflict resolution process, as most of the common types of conflicts are automatically merged into the patch Plug-in. It's very unlikely that the generated patch is going to be any worse then using the originally conflicting mods without the patch would be, and as such this method is recommended for everyone that runs mods.

</p><p>What this merge function is doing is nothing more and nothing less then what <a href="http://wrye.ufrealms.net/Wrye%20Bash.html">Wrye Bash</a> has been doing for <a href="http://www.elderscrolls.com/home/home.php">TES4 (Oblivion)</a> for years now. The functionality is specifically not aimed at modders making pre-generated patches and distributing them. The whole point of such a list merger is to generate a merged patch that is custom built for a specific load order (yours).However not every load-order conflict can be anticipated, and too often mod authors create messy plug-ins that create unforeseen outcomes. That’s why it is important to review each of the overrides that the merged function creates. The screenshot below shows you how to start the action:

<img src="./Miax's Tome of FO3Edit_files/image104.jpg">

</p><p>The Merged Patch function should take several seconds to complete, after which the Messages Tab will reveal the outcome as shown below:

<img src="./Miax's Tome of FO3Edit_files/image106.jpg">

</p><p>Notice how the Merged Patch automatically creates our Patch Plug-in, and assigns all of the mods in our load-order as masters to it. This is important, as it allows you to drag n’ drop any record into it, and ensures maximum compatibility across your mod list. The screenshot above shows you how FO3Edit creates the entire record tree (1), and where the logfile output is shown in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> (2).

</p><p>The screenshot below shows you the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> of our newly-created merged patch, which you can see by selecting and clicking on a record from the tree:

<img src="./Miax's Tome of FO3Edit_files/image108.jpg">

</p><p>Notice how the text is Green throughout, with a Yellow background. This signifies an override with no conflict. This will not always be the case as the next series of screenshots will illustrate, which is why the next step after creating the merged patch is to review each of the changes just as the screenshot above shows. Simply click-open each record-type, and then click on each record to see its results in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a>.

</p><p>Under the, "Faction" category we notice the, "Raider Faction", seems to have a conflict still. When clicking open the record, the problem is revealed in that the <a href="http://www.fallout3nexus.com/downloads/file.php?id=1804">Death Canyon</a> mod has erased the name of the faction! Surely this was an un-intentional change by the mod author, which was thankfully overridden by our merged patch. None the less the mod author should be contacted in such cases via the forums about the issue so that they can fix it.

</p><p>For the purposes of our load-order, this is an example of a conflict that we will, "Do Nothing About". We don’t need to worry, as our patch Plug-in has the Raider Faction name in-tact and there won’t be a problem in-game.

<img src="./Miax's Tome of FO3Edit_files/image110.jpg">

</p><p>The screenshot below shows another example of a conflict that persists after the creation of the merged patch:

<img src="./Miax's Tome of FO3Edit_files/image112.jpg">

</p><p>In this case the problem is more serious, and we will want to correct it in our patch by drag n’ dropping the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a> values into our patch plug-in (<a href="http://dl.dropbox.com/u/17043363/readme.html#_Creating_a_Patch">and you know how now!).

</a></p><p><a href="http://dl.dropbox.com/u/17043363/readme.html#_Creating_a_Patch">The screenshot below shows another conflict between </a><a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a> and the <a href="http://www.fallout3nexus.com/downloads/file.php?id=334">XFO</a> <a href="http://www.fallout3nexus.com/downloads/file.php?id=4968">FOIP (Fallout Interoperability Patch)</a> patch, but in this case we don’t need to do anything. The conflict is clearly intentional, and the fact that we have the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a>-<a href="http://www.fallout3nexus.com/downloads/file.php?id=334">XFO</a> <a href="http://www.fallout3nexus.com/downloads/file.php?id=4968">FOIP (Fallout Interoperability Patch)</a> patch installed last offers confidence that this is an intentional situation that we can safely leave alone.

<img src="./Miax's Tome of FO3Edit_files/image114.jpg">

</p><p>The examples provided above will give you a broad taste of the kinds of conflicts and overrides you will run into when creating a merged patch. Reviewing the changes can take as little as 10 or 15 minutes, compared to the hours of work it would take to create the patch plug-in by hand. That is why the recommendation is to use the Automatic method to create a merged patch, and then use your manual patching skills to correct any problems you find in the merged patch. That will produce the best patch plug-in for your mod-list, and ensure the smoothest gaming experience possible.

</p><p>Now it’s time for you to take the reigns and do some serious conflict resolution while the knowledge is still fresh in your brain. Take your own mod-list and create a merged patch just as described in this chapter, then manually de-conflict it. It will give you some real-world exercise in conflict resolution, and will help your own game at the same time!

</p><h2>The Conflict Detection Algorithm</h2>

<p>To round-out our discussion on conflict detection and resolution, we have included the main algorithm (in textual, descriptive form) for your reference. You do not have to read this unless you have an interest in the internal mechanism of how FO3Edit determines a conflict/override from un-conflicted records.

</p><p>The Surgeon General has declared that reading code without a blood/caffeine content of 0.20 may be hazardous to your sanity.

</p><p>FO3Edit uses a complex algorithm that parses the mod sub-record data at depth, and performs a number of operations on the data to detect conflicts and overrides. While you do not have to memorize this, the main conflict-detection algorithm is described below for reference (and those brave enough to noodle it out):

</p><ol>
	<li>FO3Edit makes a list with all entries from the master record, and designates this as the, "TargetList".
	</li><li>FO3Edit Loops and repeats the following for each existing override record:
	<ol>
		<li>FO3Edit determines the file containing this override record, and designates it as, "CurrentFile".
		</li><li>FO3Edit makes a list with all entries from that override record, and designates it as, "CurrentList".
		</li><li>FO3Edit goes through the list of master files for CurrentFile, from last to first, and stops when the first is found containing an override for this record, designated as, "CurrentMaster".
		</li><li>FO3Edit makes a list with all entries from CurrentMaster, and designates it as "CurrentMasterList".
		</li><li>FO3Edit goes over CurrentList and CurrentMasterList, for each entry that:
		<ul>
			<li>Exists only in CurrentList, adds this entry to TargetList if not yet present.
			</li><li>Exists only in CurrentMasterList, removes this entry from TargetList if present.
		</li></ul>
		</li><li>FO3Edit then makes a list with all entries from the winning override record, and designates it as, "WinningList".
		</li><li>FO3Edit then compares TargetList and WinningList, and if different:
		<ol>
			<li>FO3Edit copies the currently winning record as override into the new file, designated as, "TargetRecord".
			</li><li>FO3Edit then removes all list entries from "TargetRecord".
			</li><li>FO3Edit goes over TargetList and for each entry add a new entry to the "TargetRecord."
		</li></ol>
	</li></ol>
	</li><li>FO3Edit then makes the master list (as it applies to leveled list entries) which is also important to understand what's going on:
	</li><li>For each entry, FO3Edit generates a string representation including: Level, Reference, Count, Item Condition, Owner, and Owner Rank.
	</li><li>FO3Edit sorts the generated list of strings.
	</li><li>FO3Edit walks over the sorted list, add numbers to duplicated entries, and so suppose you have a list: A, B, B, C, D, D after this step it will be A#0, B#0, B#1, C#0, D#0, D#1.
</li></ol>


<h1>Mod Cleaning and Error Checking</h1>

<h2>Overview</h2>

<p>FO3Edit provides several tools that help mod authors to clean their mods of extraneous / duplicated references, fix deleted references and to merge plug-ins together. These utilities can help a mod author avoid many conflicts with other mods and is considered a best practice. It is highly recommended that mod authors clean their mods before they are released to the general public, which can avert silly and embarrassing compatibility problems after release and make for a more professional showing in the community.

</p><p>Mod quality is a community wide problem and needs to be addressed on that level. If everyone just tweaks their load order around and cleans mods they installed that's not going to move us forward as a community. It is important that if there are general issues with a mod that these be made public and the author of the mod fixes them. With many of the possibly conflicting changes that a mod makes, it becomes a question of intent when cleaning them up, and only the mod author can give an authoritative answer to that.

</p><p>This chapter is really dedicated to mod authors, and can be safely ignored by mod-users (whew!). Mod Authors that use the GECK should realize that the GECK can set the modified flag on a thing very easily, and that gets saved into your mod as an override to some standard object. The problem comes when players integrate your mod with others that make intentional changes to the standard object that you inadvertently saved – which is the cause of more conflicts than any other kind between mods today.


</p><p>Those not convinced by now to read-through and understand the mod cleaning and merging process are sloppy and should be sacked. For the honorable modders who want to contribute to the community in the right way,
read-on.


</p><h2>Mod Cleaning Process</h2>

<p>What is the mod cleaning process anyway? The mod cleaning process involves cleaning a mod file of duplicate/un-necessary records and un-deleting objects in the masters that were inadvertently deleted - setting them to disabled instead. We also check for errors as well as looped level lists. The itemized cleaning process is:

</p><ul>
	<li>Identifying and removing records in a mod file that is identical to those in the master files, which user useless in a mod-file and can cause conflicts with other mods. Removing these from your mod file is a primary goal of this process.
	</li><li>Identifying any records in the master files that was marked as deleted, which FO3Edit un-deletes and marks as, "disabled" instead. This ensures that any change made to that object by other mods won’t cause crashes or conflicts, which can happen if a modder accidentally deletes a base object, which is modified by another mod and you get a null pointer – poof!
	</li><li>Identifying any infinite loops in the leveled-lists, and ensure there are no physical/data errors with the mod file to round-out the clean-up.
</li></ul>

<p>For example, modder A inadvertently double-clicks on a wine bottle and it gets marked for save – becoming one of the changes introduced by modder A’s plug-in. Modder A makes things worse by deleting the whiskey bottle record, removing it from the game!

</p><p>Mod B is added to the player’s mod-list, which changes the wine bottle making it stronger. Mod A’s plug-in however conflicts with this and can over-ride Mob B’s changes without cause (as Mod A’s author did not intend to change the wine bottle). Furthermore all occurrences of the whiskey bottle are now bogus. When Mod B tries to change the whiskey bottle, it finds no whiskey bottle to change and Fallout3 will crash.

</p><p>Modder A could avoid both of these issues with the mod cleaning process, which un-deletes references that were deleted on accident and un-does inadvertent changes to things in the game that were not intended. The screenshot below illustrates the start of the process, in which you must load-up FO3Edit and follow the steps herein:

<img src="./Miax's Tome of FO3Edit_files/image116.jpg">

</p><p>Once, "OK" is clicked (D), FO3Edit will load the selected plug-in for cleaning.

</p><p>Note that you can also, "Select All" or "Invert Selection", which gives you additional controls over which mod-files are selected for loading into FO3Edit. For the mod cleaning process, we only want to load the plug-in being cleaned. You can do this using the, "Select None" menu option, and then clicking on the mod file to be cleaned.

</p><p>You should only clean one mod file at a time, and you should not clean other people’s mod files! There is no harm in running through the process to see if mod A or mod B is filled with dirty edits (after which you can send them a PM on the forums!), but it is considered a bad idea to clean other people’s mods.

</p><p>Once loaded into FO3Edit, we need to apply a Filter to detect all of the Identical to Master references in the mod being cleaned as shown below:

<img src="./Miax's Tome of FO3Edit_files/image118.jpg">

</p><p>Clicking on, "Apply Filter" (B) will present the Filter window, just as it did with the <a href="http://dl.dropbox.com/u/17043363/readme.html#_The_Conflict_Resolution">Conflict Resolution Process</a>. This filter window however will utilize different options than with conflict detection, as in this case we are only looking at one mod file and one specific kind of conflict – the Identical to Master references.

</p><p>The options to select for Mod Cleaning are:
</p><ul>
 <li>By conflict status for this particular record
 </li><li>Identical to Master
 </li><li>Conflict status inherited by parent
</li></ul>

<p>The screenshot below illustrates the filter options to select:

<img src="./Miax's Tome of FO3Edit_files/image120.jpg">

</p><p>Clicking on, "Filter" (D) will launch the FO3Edit analysis for Identical to Master records, which should complete in a short period of time (perhaps 1-20 seconds). If your system is very slow or bogged down or the mod is really huge,
it is possible for the process to take longer. The status of FO3Edit can be viewed in the upper-right corner of the screen, as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image122.jpg">

</p><p>Both the elapsed time and processed records are shown in the upper-right window. When FO3Edit completes the analysis, the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> will reveal the result as shown on the next page. You should also not expect to see in anything yet in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a>.



</p><p>The output of the filter can be seen in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> as shown below:

<img src="./Miax's Tome of FO3Edit_files/image124.jpg">

</p><p>The total number of records filtered and the elapsed time are given, which should be quick. Also note the Yellow/Green text and backgrounds in the screenshot above, which are the references to be cleaned out.

</p><p>The records to be cleaned will be shown in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a>, though at first you won’t see anything in the view. This is because the default setting for the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> is the, "Hide no conflict rows", which means any rows that don’t have a conflict are normally not shown (as they play no role in conflict resolution, they are not conflicted!). The screenshot below shows you the simple operation you can perform to see the records that need cleaning:

<img src="./Miax's Tome of FO3Edit_files/image126.jpg">

</p><p>Once you un-check the, "Hide no conflict rows" setting in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a>, you will be able to see all of records just as you do during conflict detection.

</p><p>Note the grey text with green background in the mod we are cleaning; indicating that they are identical to the master versions of the same record and should be removed
(cleaned). These are often called, "dirty edits".

<img src="./Miax's Tome of FO3Edit_files/image128.jpg">

</p><p>A simple visual inspection between the Fallout3.esm and <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> mod reveals the duplicated records that really don’t need to be in the <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> mod at all. Removing these will have no negative impact on the mod or Fallout3. The process of removing the duplicated, "identical to master" records involve applying a slightly different filter to the mod, followed by several context menu options as shown below:

<img src="./Miax's Tome of FO3Edit_files/image129.jpg">

</p><h3>Removing "Identical to Master"
Records</h3>

<p>Clicking on the, "Apply Filter" button from the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel’s</a> context menu will present the Filter window once again. This time choose the Mod Cleaning settings as shown below:

<img src="./Miax's Tome of FO3Edit_files/image131.jpg">

</p><p>As before the status of the filtering process is shown in the upper-right menu bar, and once complete the log-file output is shown in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a>. This filter will load only the data that needs to be cleaned from the mod. The screenshot below again shows how the output may look from this step – which should take just a few seconds:

<img src="./Miax's Tome of FO3Edit_files/image132.jpg">

</p><p>With the Mod Cleaning filter applied, Golly! It’s time to get out the <a href="http://www.mrclean.com/en_US/magic-eraser.do">Mr. Clean</a> and make this puppy sparkle with goodness! Grab the mop by Left-clicking on the mod that you want to clean, in our case <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> (A). Splash the <a href="http://www.mrclean.com/en_US/magic-eraser.do">Mr. Clean</a> on by Right-clicking the shiny white space beneath the mod your cleaning (B), and spin that mop into action by clicking on, ‘Remove "Identical to Master" records’ (C) – and watch as FO3Edit puts the shine on that puppy!

<img src="./Miax's Tome of FO3Edit_files/image134.jpg">

</p><p>You will be presented with the Warning screen, press, "Yes" when prompted:

<img src="./Miax's Tome of FO3Edit_files/image136.jpg">

</p><p>As FO3Edit completes the mod-cleaning process, you can see the output in the Messages Tab, which shows you every record that is being removed along with its hex ID number. Once complete, you get a line of text reading, [Removing "Identical to Master" records done] – along with statistics on the number of records processed and removed as well as the elapsed time (A).

</p><p>The screenshot below illustrates the output:

<img src="./Miax's Tome of FO3Edit_files/image138.jpg">

</p><p>The final output is also printed in the bottom status bar (B) for your viewing pleasure. With this, the first step in the mod cleaning process is complete.

</p><h3>Sorting Master File Load Orders</h3>

<p>There are times in which the load-order of Master files gets switched around when you add/change load-orders. It can become a problem when the Master load order becomes different then how they are listed in the MASTer list, header section of your Plug-in. The, "Sort Masters" function corrects the master file load-order in the Plug-ins MASTer list, and correctly renumbers all file specific FormIDs. The screenshot below illustrates:

<img src="./Miax's Tome of FO3Edit_files/image140.jpg">

</p><p>There is no specific log-output from the function unless there is a problem. If you see no issues or errors in the Messages Tab, then the function sorted the masters correctly.

</p><h3>Un-deleting and Disabling References</h3>

<p>The next step in the cleaning process is to Undelete and Disable References from the mod being cleaned. The, "Undelete and Disable References" function scans through the mod and the master files it depends upon, looking for any records that you may have deleted by accident. If it finds some, it will un-delete them and then set the reference to, "disabled" so that it will never be seen in-game nor affect your mod.

</p><p>This ensures that if another mod tweaks/changes the item you deleted, that the item will still be in the files (just disabled), and thus won’t cause Fallout3 to crash. If your mod file loads with the item deleted and another mod tries to change it, Fallout3 will crash!  These are among the more serious conflicts that can occur and the reason why it is important for mod authors to run this function as part of the mod cleaning process. The screenshot below illustrates how to activate it:

<img src="./Miax's Tome of FO3Edit_files/image142.jpg">

</p><p>Note that you must Right-click on the mod in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> to pull the right context menu. In this case you do not want to click on open-space.

</p><p>The screenshot below shows the results, which show the log-file output in two places (A and B) in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> and on the lower status bar:

<img src="./Miax's Tome of FO3Edit_files/image144.jpg">

</p><p>Now we know for sure that other mods will not run into missing references that were a consequence of changes made in the mod your cleaning. With the second step in the cleaning process complete, it’s time for the final step.

</p><h3>Purging un-used Master File References</h3>

<p>Master File References are links or references from your Plug-in to any Master files
(ESMs) that it depends on to run, and stores the list in a record called,
"MAST". Most mods have Fallout3.ESM in their MASTer list, but you can have many such links in a plug-in. In fact when FO3Edit creates a <a href="http://dl.dropbox.com/u/17043363/readme.html#_Creating_a_Merged_">Merged Patch,</a> it puts links to many or nearly-all of the master files in your mod list. It is possible in some cases for a Plug-in to contain a link to a master file that it does not need.

</p><p>For example, suppose the Plug-in we are cleaning had MasterB.esm in its MASTer list but it doesn't contain any overrides for, or makes any other references to,
records from MasterB.esm. In that case we would not need nor want MasterB.esm listed in the MASTer record for our Plug-in! This function detects any un-used MASTer references in the Plug-in we are cleaning, and removes them from the MASTer list. FO3Edit also renumbers any file specific FormIDs in the Plug-in to ensure that it is cleaned properly.

</p><p>The screenshot below illustrates how to activate the, "Clean Masters" function:

<img src="./Miax's Tome of FO3Edit_files/image146.jpg">

</p><p>Unfortunately there is no log-file output for this function, so you’ll have to trust me that this works correctly.

</p><p>The screenshot below illustrates how the <a href="http://www.fallout3nexus.com/downloads/file.php?id=867">BetterCaravans</a> mod looks now that it’s clean, with it’s new sparkly (bold)-Green text in both the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> (B) and the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> (A):

<img src="./Miax's Tome of FO3Edit_files/image148.jpg">

</p><p>At this point you should save your mod and load it up in-game to make sure that everything is still happy. There are a few notes about the process to be aware of:

</p><p>You should not clean other people’s mods! It is the responsibility of each mod owner to clean their own mods, and with the creation of this tutorial there is no longer any excuse why people can do this. If you find a dirty mod, send the mod author a PM on Nexus and tell them they have a dirty mod and reference them to FO3Edit (please?)

</p><p>Make sure that you run Master Update again before testing your mod in-game, as the cleaning process will undoubtedly change references and you want to make sure FO3Edit synchs everything up. This has shown to prevent crashes.


</p><h2>Checking For Reference Errors</h2>

<p>The "Check for Reference Errors" function reports any case in which the information contained in a module file does not match the FO3Edit record definitions. There is a very minimal chance that something that's reported as an error is actually an oversight in the FO3Edit record definitions and not in the module, but all cases should be reported to be safe). Note that there are errors in the Fallout3.esm and the DLCs. Both <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=380528">Elminster</a> and <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=20313">Quarn</a> have gone through them all to ensure they are genuine errors. Running the check is a recommended practice as part of the mod-cleaning process as shown below:

<img src="./Miax's Tome of FO3Edit_files/image150.jpg">

</p><p>When the error-check is complete, the screenshot below shows you how the output will look when errors are found in a module:

<img src="./Miax's Tome of FO3Edit_files/image152.jpg">

</p><p>In this example we found both kinds of errors (Ouch!), which was ideal for our tutorial. In the first case FO3Edit found reference errors where data is missing such as Flags and Idle Timer Settings (A). These errors should be corrected by the mod author and not by you! The error we see in (B) is the result of an unknown Flags type, (Unknown: 15), which FO3Edit did not understand. These kinds of errors should be sent to <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=380528">Elminster</a> for to ensure FO3Edit has the right information, or if the mod has some strange error.

</p><h2>Checking for Circular Leveled Lists</h2>

<p>With mods it is possible to have Leveled Lists that reference other Leveled Lists that are perfectly valid. However, it's possible in some cases that a mod builds a circular reference (with as little as 2 leveled lists directly referencing each other, or any number of additional leveled lists in the chain). When the game engine then tries to resolve that leveled lists down to a particular item/creature/NPC, it can get caught in the endless loop and crash. This function looks for such cases and identifies them if they exist:

<img src="./Miax's Tome of FO3Edit_files/image154.jpg">

</p><p>I have not yet found an example in any mod of such a circular leveled list, but I do know that they exist and that FO3Edit can spot them. If you don’t get any output from running this function, then the checked mod is clean of such loops.

</p><h1>Managing Mod Files</h1>

<h2>Overview</h2>

<p>This chapter is dedicated to mod authors, and describes a number of functions and actions that FO3Edit provides to make mod authors lives easier and their products more standardized. Like the chapter on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Mod_Cleaning_and">Mod Cleaning and Error Checking</a>, these functions hole mod authors produce products that will be less conflicting with other mods, and will open doors to possibilities that mod authors may not have known existed. Actions like merging mods, splitting them apart into Plug-in/Master pairs, adding Master file references and more are documented in the sections below.


</p><h2>Adding Master Files to a Plug-in</h2>

<p>To reference a record from ExampleMaster.ESM in Plug-in.esp you need to add ExampleMaster.ESM to the MASTer list in the File Header of Plug-in.esp. This allows the plug-in to add/change items found in the ExampleMaster.ESM. FO3Edit does this by adding a new master to the MAST sub record in the file header and correctly renumbering the FormIDs in the module. This can be very handy for mod authors, as it simplifies the process down to a few mouse clicks, so the mod author can focus on more important things like modding!

</p><p>In this example we showcase <a href="http://www.fallout3nexus.com/downloads/file.php?id=5178">Saiden Storm’s Weapon Effects</a> mod and the taylorsd’s <a href="http://www.fallout3nexus.com/downloads/file.php?id=503">Better Frag Grenade Physics</a> mods, two excellent enhancements to Fallout3. Here we will add the SS Weapon Effects.esm Master file to the Better Frag Grenade Physics plug-in, so that we can add one of Saiden Storm’s cool plasma blasts to a frag grenade for kicks! To start the action, select "Add Masters" from the context menu as shown:

<img src="./Miax's Tome of FO3Edit_files/image156.jpg">

</p><p>This will present the File selection menu, from which you can Check the Master file(s) that you want to add as references in the Plug-in’s header as shown:

<img src="./Miax's Tome of FO3Edit_files/image158.jpg">

</p><p>Once
FO3Edit adds the master file as a reference in the Plug-in, you see results similar to the screenshot below showing the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> log-entry:

<img src="./Miax's Tome of FO3Edit_files/image160.jpg"><br>
<br>Note that "SS Weapon Effects.esm" has now be added to RealFragGrenade3.esp,
making it possible to attach one of <a href="http://www.fallout3nexus.com/downloads/file.php?id=5178">Saiden Storm’s Weapon Effects</a> explosions to the grenade effect in <a href="http://www.fallout3nexus.com/downloads/file.php?id=503">Better Frag Grenade Physics</a>. The View Tab shows the specific entry:

<img src="./Miax's Tome of FO3Edit_files/image162.jpg">

</p><p>If you plan to release a mod to the public, then you should ONLY do this with permission from the mod author, in this case Saiden Storm. If you wanted to use his weapon effects in a mod of your own and release it, you need permission!

</p><p>Below <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=380528">Elminster</a> describes why this function is important for mod authors wanting to add master file references to their own mods:

</p><p>"With FormIDs it's important to realize that the FormIDs that FO3Edit shows you are NOT the ones that are actually written into the module file. The FormIDs that FO3Edit shows you are "load order corrected" ones, while the FormIDs in the file itself are "file specific" ones.
<br><br>
FormIDs are made up of 2 parts, the first byte (2 characters) is the "module index", the last 3 bytes (6 characters) are the "module specific ID".
<br><br>
Mapping from "file specific" to "load order corrected" FormIDs and back only affects the "module index" and leaves the "module specific ID" untouched.
<br><br>
An example:
<br><br>
Suppose you got a bunch of modules loaded:
<br><br>
[00] Fallout3.esm<br>
...<br>
[04] MasterA.esm<br>
...<br>
[10] MasterB.esm<br>
...<br>
[15] MasterC.esm<br>
...<br>
[20] Plug-in.esp<br>
<br>And lets suppose the MAST sub record in the File Header of Plug-in.esp lists:<br>
<br>Fallout3.esm<br>MasterB.esm<br>MasterA.esm<br>
<br>If you now see a record in Plug-in.esp that overrides a record from Fallout3.esm,
then you would see a FormID like 00123456 for it. In this particular case that record would also have the same (00123456) FormID inside the Plug-in.esp module file.<br>
<br>But if you have a record that overrides a record from MasterA.esm, e.g. with a FormID like 04ABCDEF (you can see the 04 as "module index" matches the load order of MasterA.esm) then it would be saved as 02ABCDEF in the Plug-in.esp module file, because 02 is the index of MasterA.esm in the list of MASTer files in the File Header of Plug-in.esp.<br>
<br>And an override for a record in MasterB.esm (e.g. 10654321) would be saved as 01654321 in the Plug-in.esp module file because 01 is the index of MasterB.esm in the list of MASTer files in the File Header.<br>
<br>Last but not least, a NEW record in Plug-in.esp which belongs to Plug-in.esp and which FO3Edit would show you e.g. as 20FEDCBA gets stored as 03FEDCBA in the file (because 03 is equal to the number of entries in the MASTer list, as indices into that list start at 00, 03 is one higher then the highest valid index into that list).<br>
<br>You will also notice that it's not possible to have an override record for a record from Master3.esm in Plug-in.esp or in any other form reference such a record, because there is no way to map a load order corrected FormID of 15A1B2C3 to a file specific one that's valid in Plug-in.esp.<br>
<br>To reference a record from Master3.esm in Plug-in.esp you need to add Master3.esm to the MASTer list in the File Header of Plug-in.esp. But if you just go there and do that manually, then you've just added Master3.esm with the index 03 to the file. Which means that all the records that used to belong to Plug-in.esp are suddenly considered override records for records from Master3.esm and will show up with 15xxxxxx FormIDs instead of 20xxxxxx FormIDs! A real mess. <br>
<br>If you instead use the Add Masters function, then FO3Edit will not only add then new entry into the MASTer list, it will also renumber all (file specific) 03xxxxxx FormIDs into 04xxxxxx FormIDs first to preserve their meaning (which is "this record belongs to this file").<br>
<br>There are rare cases where editing the MAST list directly is what you actually want. e.g. when splitting an .esp into an .esm/.esp pair. In that case you would make a copy of the .esp, rename it to .esm, load it alone into FO3Edit to set the ESM flag in it's header,
then restart FO3Edit to load both the .esm and the .esp and modify the MAST sub record in the File Header of the .esp by adding the .esm as last entry. After restarting FO3Edit and loading both files you will see that all records in the .esp are now considered overrides for the same records from the .esm"


</p><h2>Changing Mod FormIDs</h2>

<p>There are times in which you may need to renumber the FormIDs for all records in a plug-in to avoid conflicts. This can become necessary if two plug-ins share the same FormIDs (or some of them), which can result in bad conflicts in-game. Renumbering FormIDs from will change all FormIDs of records belonging to the Mod-file (but not any override records which might be contained in that mod file) so that they start at the specified value.

</p><p>This Function is useful if you have multiple modules that you plan to update in the future, but also want to always provide a merged version (e.g. using FO3Plug-in). By assigning non overlapping FormIDs to the different modules, you can make sure that no FormID reassignment of conflicting FormIDs has to take place when merging.

</p><p>To renumber the FormIDs of a Mod file, Right-click on that mod file in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-hand Panel</a> to present the main context menu (A). Then select, "Renumber FormIDs from…" from the menu as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image164.jpg">

</p><p>When selected, the function will present a, "Start from…" window asking you what number you want to start the renumbering at as shown below.

</p><p>Normally a FormID is 8 characters long, with the first 2 representing the mod file’s index and the last 6 the reference’s specific index within that specific mod. Thus pick a number between 100000 and FFFFFF in hex:

<img src="./Miax's Tome of FO3Edit_files/image166.jpg">

</p><p>Once the new module specific start FormID (in hex) has been input (A) and the OK button selected (B), FO3Edit will begin changing the FormIDs and present the output in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image168.jpg">

</p><p>When changing the FormIDs of a huge mod like <a href="http://www.fallout3nexus.com/downloads/file.php?id=5370">Reykjavik</a> by Alexander Sigurðsson, the process took 3-4 minutes on a high-end computer. The results shown in the Messges Tab reveal just a few examples of FO3Edit renumbering a FormID, discovering all references to it in all mod files, and correcting the numbering to prevent conflicts.

</p><p>Changing the FormIDs of an existing module will make it SaveGame incompatible and will break any other module that uses this module as master! If you have any dependant modules, you need to have them all loaded into FO3Edit at the time you change to FormIDs so that they will all be updated accordingly.

</p><h2>Merging a Plug-in into another Plug-in or Master</h2>

<p>One of the common tasks that many mod authors face is the need to merge mod files together into a single plug-in or master file. Many mod players also like to merge all of their favorite plug-ins into a single master file (one modder affectionately calls it, "BORG.esm"). FO3Edit can be used to accomplish both of these needs, and will ensure that the resulting plug-in is synchronized correctly against it’s combined references, and that the load orders are correct. The process is illustrated below, starting with loading <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> and ordering the files correctly as shown below:

<img src="./Miax's Tome of FO3Edit_files/image170.jpg">

</p><p>In this example we will be merging Skykappa’s Destructible <a href="http://www.fallout3nexus.com/downloads/file.php?id=6782">Building Materials 3000</a> (<a href="http://www.bethsoft.com/bgsforums/index.php?showtopic=997699">WIPz</a>) (here-after referred to as DBM 3000) into the <a href="http://www.bethsoft.com/bgsforums/index.php?showtopic=970549">500 Rads Bar (WIPz)</a>, so that the Bar can utilize the destructible building materials. Note that Skykappa’s DBM 3000 is a modders resource, and was released by the author to be used in other mods for the low price of mentioning in the mod’s credits.

</p><p>Load order is important when merging mods together, mainly because FO3Edit is very precise about the numbering and order of FormIDs and references amongst mods. Its is Very easy to conflict the FromIDs of mods being merged together (as is discussed at depth below). As such FO3Edit requires us to place the mod that is receiving the content (A) Below the mod being assimilated (B) in the load-order of <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>. This is important, but if you get it wrong don’t worry, FO3Edit will warn you about it (also shown below).

</p><p>You can also merge many mods into one at once, you don’t have to do it one-by-one if you happen to have several mods that needs to be combined together (as in when a modder lumps everything into one giant BORG.esm). The only requirement is that the assimilator (BORG.esm) is at the bottom, below the assimilates. Once you have the load order correct, exit <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> to save the load order.

</p><p>Now launch FO3Edit, which should offer the list of mods in the correct order with the assimilator at the bottom as shown below:

<img src="./Miax's Tome of FO3Edit_files/image172.jpg">

</p><p>Note the load order is exactly as we specified in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>. If everything is checked, you can always Right-click in the Master/Plugin Selection window and click, "Select None" to clear all the checks. Then select the assimilator and assimilatees (A). Click okay to load the mods into FO3Edit (B), which yields the following output:

<img src="./Miax's Tome of FO3Edit_files/image174.jpg">Note how the only files loaded are the main Fallout3 master files and the mod files we are merging together (B and C). We are now in a position to merge the <a href="http://www.fallout3nexus.com/downloads/file.php?id=6782">DBM 3000</a> into the <a href="http://www.bethsoft.com/bgsforums/index.php?showtopic=970549">500 Rads Bar</a>!



</p><p>To execute the merger, first open the assimilatee’s (mod being copied) by Left-clicking on its plus sign (A), and then selecting all of the record headings within the mod (B) using the mouse and the shift-key. Next Right-click at (B) to render the context menu, and select, "Deep copy as override into…" (C) As shown below:

<img src="./Miax's Tome of FO3Edit_files/image176.jpg">

</p><p>This action performs our traditional, "Copy" of the material we want to merge, and will present you with a menu option where you can select the file you want to merge these records into (our traditional, "Paste"):

<img src="./Miax's Tome of FO3Edit_files/image178.jpg">

</p><p>When presented with the, "Which files do…" menu, select the mod that you want to Paste the content into (A), and select OK to perform the merge (B). You may be prompted to add the copying mod as a master, select, "Yes" to this (C).

</p><p>You will now be presented with the output, which can be seen in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a>:

<img src="./Miax's Tome of FO3Edit_files/image180.jpg">

</p><p>Note how the <a href="http://www.bethsoft.com/bgsforums/index.php?showtopic=970549">500 Rads Bar</a> now has Bold text over its name, indicating that new records have been copied into to and that it is marked as modified (A). The <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> displays the output of any master connections we made during the process (B), and any errors that may have occurred (none in this example).

</p><p>If you now open the two mods, you will see how the references from <a href="http://www.fallout3nexus.com/downloads/file.php?id=6782">DBM 3000</a> are duplicated into <a href="http://www.bethsoft.com/bgsforums/index.php?showtopic=970549">500 Rads Bar</a>. Each record can be seen in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> down to the variable and reference level, as shown below:

<img src="./Miax's Tome of FO3Edit_files/image182.jpg">

</p><p>Each record can be compared in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> as desired; showing that each has been copied into the <a href="http://www.bethsoft.com/bgsforums/index.php?showtopic=970549">500 Rads Bar</a> and will now save as part of that plug-in. Any errors that occur will show up in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a>, and may likely prevent a merger from taking place. If you see errors in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a>, you should assume that the mods did not merge and you’ll need to address the errors noted.

</p><p>With the merger complete, it’s time to save our newly-combined mod file! This is done most conveniently by hitting, "Alt-S" or closing FO3Edit. Either will present you with the Save Changed Files window as shown below:

<img src="./Miax's Tome of FO3Edit_files/image184.jpg">

</p><p>Simply ensure the mod you just merged together is Checked for saving (A), and click "OK" to save the mod. Also note that the only file FO3Edit wants us to save is <a href="http://www.bethsoft.com/bgsforums/index.php?showtopic=970549">500 Rads Bar</a>, while <a href="http://www.fallout3nexus.com/downloads/file.php?id=6782">DBM 3000</a> is not shown. This is correct behavior, indicating that we copied stuff into <a href="http://www.bethsoft.com/bgsforums/index.php?showtopic=970549">500 Rads Bar</a> and effectively did nothing to <a href="http://www.fallout3nexus.com/downloads/file.php?id=6782">DBM 3000</a>.

</p><p>If you get the load order wrong in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> when trying to merge two mod files, FO3Edit will present you with the following error:

<img src="./Miax's Tome of FO3Edit_files/image186.jpg">

</p><p>Note that the error is very specific about the load-order issue, in an attempt to better guide you into the right load order for whichever mods you are trying to merge. If you see this error, exit FO3Edit, correct the mod load-order in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>, re-launch FO3Edit and perform the merger operation again.

</p><p>If you don’t see any errors through the process or after saving, exit FO3Edit and either test the combined mod file or load it up in the GECK so you can start adding destructible building materials to your mod! Have a nice day, thank you for playing.


</p><h2>Converting a Plug-in into a Master</h2>

<p>Converting a Plug-in (ESP) into a Master (ESM) file is a simple process that can be doing using FO3Edit in less than five minutes. The file extension of a Plug-in as well as the ESM flag within its file header must be changed in order to make the transition to a Master file. The screenshot below starts the action by launching FO3Edit:

<img src="./Miax's Tome of FO3Edit_files/image188.jpg">

</p><p>First you need to de-select all of the mods using Right-click in the Master/Plugin Selection window (A). Then click/check just the mod your converting (B), in this example we’re converting <a href="http://www.fallout3nexus.com/modules/members/index.php?id=60908">Antistar’s</a> <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a> plug-in into a master file. Click "OK" (C) to load FO3Edit with just the mod being changed as shown:

<img src="./Miax's Tome of FO3Edit_files/image190.jpg">

</p><p>Note that <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a> is successfully loaded into FO3Edit (B), and that it is the only file listed aside from the Fallout3 master files (A). You are now ready to convert the Plug-in into a Master file.

</p><p>To make the conversion, all we have to do is change one flag in the File Header,
which can be accessed by Left-clicking open the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a> record in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-hand Panel</a>. Immediately beneath name of the mod is the File Header row (A) as shown below. You will then see the File Header data printed into the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> (B):

<img src="./Miax's Tome of FO3Edit_files/image192.jpg">

</p><p>The File Header record is divided into different sub-headings and variables,
including the Record Flags, Version, Author, mod Description and any Master file references that the plug-in requires. We will be changing the Record Flags variable by Right-clicking into the open space next to it (C), which will render a small context menu. You can then click, "Edit" (D) to change the values. Doing so will present a warning window as shown below:

<img src="./Miax's Tome of FO3Edit_files/image194.jpg">

</p><p>This window is a default/standard in FO3Edit, and exists to make sure that anytime you are about to change a mod file for the first time, you know about it. It may seem annoying to some, but often the worst conflicts between mods come from changes that a mod author did not intend to make. Simply select, "Yes" (A) to move along.

</p><p>You will next be present with a menu of available/known flags that you can select:

<img src="./Miax's Tome of FO3Edit_files/image196.jpg">

</p><p>Note that many of the flags are blank or unknown, because literally the community does not know what those flag values mean. Fortunately the flag we need is the first one on the list (A), simply Left-click it and then click, "OK" to save the flag settings.

<img src="./Miax's Tome of FO3Edit_files/image198.jpg">

</p><p>With that you are done! Note the File Header text is now Bold (A) indicating a change, and the Record Flags in the View Tab (C) show that the ESM flag is set (B).

</p><p>Once done with FO3Edit, you will want to change the file extension from <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a>.esp to <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a>.esm so that the extension matches the File Header flagging. The GECK and Fallout3 don’t really care about the file extension (ESP/ESM), what matters is that File Header flag. The Extension is for humans to keep them sorted correctly! Now all you need to do is exit FO3Edit or press, "Alt-S" and Save your new Master file as shown below:

<img src="./Miax's Tome of FO3Edit_files/image200.jpg">

</p><p>It is also possible to change a Plug-in to a Master using just <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> or other tools, but there is always the potential of problems with ONAM records. ONAM records are special records created that allow Master files to communicate with one-another when references need to be passed. FO3Edit ensures that as part of the conversion process, these ONAM records are built and correctly ordered. This is why it is better to make the Plug-in to Master conversion using FO3Edit.


</p><h2>Splitting a Plug-in into a Plug-in/Master Pair</h2>

<p>Splitting a single Plug-in (ESP) into a Master (ESM)/Plug-in (ESP) pair can be useful in many situations, especially when a mod author wants to share resources from one Plug-in with other Plug-ins. The only way to share resources between Plug-ins is to convert those resources into a Master file. The split is a two-part operation in which you first split the single Plug-in into a duplicate Plug-in and Master at the file (windows explorer) level. You then change the Flagging on one of the two duplicates to turn it into a Master, and change the flagging on the Plug-in copy to make reference its new master file. The action begins in windows explorer as shown below:

<img src="./Miax's Tome of FO3Edit_files/image202.jpg">

</p><p>With the mod copied, the next screenshot shows the paste:

<img src="./Miax's Tome of FO3Edit_files/image204.jpg">

</p><p>This will create a duplicate of the WeaponModKits.esp Plug-in. This may seem a very basic part of the process to duplicate, but was done for thoroughness and for those who can’t read English and depend on the diagrams for the process.

</p><p>Now we need to re-name the copy to make it our Master file version.

<img src="./Miax's Tome of FO3Edit_files/image206.jpg">

</p><p>You will be presented with a warning about changing the file extension, which is a common windows warning. Simply select, "Yes" when prompted. The screenshot below shows the last part of the duplication process:

<img src="./Miax's Tome of FO3Edit_files/image208.jpg">

</p><p>You will then be presented with the output; both a Plug-in and Master file that are identical at this point. The screenshot below shows the Master (A) and Plug-in (B):

<img src="./Miax's Tome of FO3Edit_files/image210.jpg">

</p><p>With the file duplication part done, it’s time to launch the <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">Fallout Mod Manager</a> (<a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>) to set our loading order for the new Master file as shown below:

</p><p>Once
<a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> is loaded, find the WeaponModKits.ESP (B) and WeaponModKits.ESM (A) versions of the mod in the list and ensure that both of them are Checked/Selected to load. The screenshot shows how <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> will look when first loaded after the split, showing the ESP (B) is still checked (as it was before), while the new Master we just created is not yet checked (A) as shown below:

<img src="./Miax's Tome of FO3Edit_files/image212.jpg">

</p><p>Here you must also ensure that the Master (ESM) version loads Before the Plug-in (ESP) version as this is a Fallout3 requirement. The recommendation is to move the Master (ESM) higher-up in the load order before all other Plug-ins, and load the Plug-in (ESP) version of <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a> somewhere below the Masters. With that done, close <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> and load FO3Edit. Your new load order with the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a>.esm loading before the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a>.esp should be visible in FO3Edits as shown below:

<img src="./Miax's Tome of FO3Edit_files/image214.jpg">

</p><p>To load just the Master and Plug-in, first Right-click in open space (A) and select, "None" from the context menu as shown above, and then check-off just the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a>.esp and <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a>.esm files (C), and click, "OK" to load them into FO3Edit. This will load just the two <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a> files and the Fallout3 masters into FO3Edit as shown below:

<img src="./Miax's Tome of FO3Edit_files/image216.jpg">

</p><p>Note that both our Master and Plugin version of <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a> is loaded and ready for conversion (A). The loader confirms a successful boot-up in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> (B), indicating we are good to go for the conversions. Next we need to set the Record Flags to ESM (or Master) as shown below:

<img src="./Miax's Tome of FO3Edit_files/image217.jpg">

</p><p>With the File Header block of <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a>.esp selected (A), Right –click in the open space next to the, "Record Flags" section (C) which will render a small context Menu. Select, "Edit" (D) from this small menu to add the ESM Master flag, which effectively converts the Plug-in into a Master. Before you can proceed however, you will get a warning message from FO3Edit about changing the mod’s contents. This is normal and provided for your protection. Simply select, "Yes" (A) to continue.

<img src="./Miax's Tome of FO3Edit_files/image219.jpg">

</p><p>The screenshot below shows you the Flags menu that is rendered:

<img src="./Miax's Tome of FO3Edit_files/image220.jpg">

</p><p>This, "Edit Value" menu shows you all of the known (and unknown) flags available for setting in a Fallout3 mod file for Record Flags. Many of the flags are known and can be selected, while a few still remain unknown. The only flag we care about is the, "ESM" flag (A), which you should check-off and then click, "OK"
(B) to accept the new flag values.

</p><p>Once done you will be presented with the outcome as shown below, which now has the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a>.esp entry and its File Header in Bold text (A) in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">Left-hand Panel</a>, indicating the change. In the Right-hand <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> (C), the Record Flag row is now also in Bold text with the new, "ESM" flag now populated with it (B) as shown below:

<img src="./Miax's Tome of FO3Edit_files/image198.jpg">

</p><p>Next we need to add the new Master version of <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a> (ESM) into the Plug-in version (ESP) as a master file reference, so that the Plug-in references the Master. This will allow the Plug-in (ESP) to use the Master (ESM) records going forward. The screenshot below shows you the first step in the process of adding a Master reference:

<img src="./Miax's Tome of FO3Edit_files/image222.jpg">

</p><p>Note that we’re changing the File Header section just as we did when adding the ESM master flag, but this time we Right-click in the Master Files row (B), and then selecting, "Add" from the context menu.

</p><p>This will create a new, blank Master File reference in the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a> Plug-in that you can now assign to our new Master file as shown below (D), which we can then modify as needed. For our example we need to assign the new master file entry to <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a>.esp. To make the change simply Right-click in open space to the right of the, "MAST – Filename" entry (B), which will render a small context menu. Then select, "Edit" (C) as shown below:

<img src="./Miax's Tome of FO3Edit_files/image224.jpg">

</p><p>Clicking Edit will open a, "Edit Value" window, allowing you to type-in the name of the Master file you want to assign as the reference (A). Click, "OK" when done (B) to save the reference, which will take you back to the View Tab.

<img src="./Miax's Tome of FO3Edit_files/image226.jpg">

</p><p><br>You should use the same case that the master file does, in this case, "WeaponModKits.esm" to ensure that there are no conflicts. And with that we’re done! Note that the WeaponModKits.esm is listed next to the, "MAST – Filename" entry (B), and that the File Header also has Bold text (A) indicating the change as shown below:

<img src="./Miax's Tome of FO3Edit_files/image228.jpg">

</p><p>And for the final step, you need to save the changes. Use, "Alt-S" or close FO3Edit to present the Save Files window as shown below:

<img src="./Miax's Tome of FO3Edit_files/image229.jpg">

</p><p>With this, you now have a Master/Plug-in version of <a href="http://www.fallout3nexus.com/downloads/file.php?id=3388">Weapon Mod Kits</a>, and the process works exactly the same for any mod that you want to split. You can change the esp file extension to ESM, then open and save it with the GECK and it will tick the ESM flag on, but won't produce ONAM's like FO3Edit will which are needed for any overrides to Fallout3.ESM's references. Unless your Plug-in has no CELL and/or WRLD group, you're better off using FO3Edit.

</p><p>An .esp <i>can</i> be the master of another .esp.

</p><p>If you have a Plug-in with multiple masters, you'll have to edit your GeckCustom.ini "bAllowMultipleMasterLoads=1"

</p><p>The GECK won't edit .esm's, so you have to ESP'ify, edit in GECK, then ESM'ify.

</p><h2>Comparing Two Versions of a Mod</h2>

<p>One of the common tasks that mod authors face is to compare two versions of their own mods, either during construction or in subsequent updates. There are also times when mod authors encounter difficult to solve problems with a new version of a mod, and need to revert back to a previous backup. The FO3Edit compare function can provide a valuable and convenient way of copying data from one version of a mod to another, without having to sort through records that don’t belong to their mods. Whatever the case may be, this section is devoted to teaching you how to compare two versions of a mod file, and how to copy records over if the need arises.

</p><p>For this section we feature <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=20313">Quarn’s</a> <a href="http://www.fallout3nexus.com/downloads/file.php?id=3808">Unofficial Fallout3 Patch</a>, which has helped to resolve countless bugs in Fallout3 and has improved the gaming experience for thousands of modders. To start the action, launch FO3Edit and select One of the two mod files that you wish to compare as shown below:

<img src="./Miax's Tome of FO3Edit_files/image231.jpg">

</p><p>As shown above, by Right-clicking in open-space in the Master/Plugin selection window (A), you will render the selection menu (B) where you can, "Select None". This will un-check everything on the list. Then select just One of the two mods (C) and Click "OK" to load it (D). The screenshot below shows the result:

<img src="./Miax's Tome of FO3Edit_files/image233.jpg">

</p><p>Here we have just One of the two mod files loaded along with the Fallout3 master files it depends on. We will need to hide these master files from view so that we are Only looking at the mod file that we want to compare.

</p><p>To hide the master file references from view, we need to select each one of them in-turn with a Right-mouse click (A), which will present the main context menu. There you can select, "Hidden" (B), which is the last option on the list as shown below:

<img src="./Miax's Tome of FO3Edit_files/image235.jpg">

</p><p>You won’t see any outward-change in the in the FO3Edit view afterwards, but you can confirm that they are marked as hidden by Right-clicking on them again – you will see a Check-mark next to, "Hidden" menu option indicating that they are hidden (from filters).

</p><p>Next we need to load the other version of the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3808">Unofficial Fallout3 Patch</a> mod file we’re comparing (the new/current version). You can do this by Right-clicking on the loaded-version of the mod (A), which will present the main context menu. Select, "Compare to…" from the context menu (B) as shown below:

<img src="./Miax's Tome of FO3Edit_files/image237.jpg">

</p><p>Selecting "Compare To" will present the, "Open" window as shown below, where you can select the current version of <a href="http://www.fallout3nexus.com/downloads/file.php?id=3808">Unofficial Fallout3 Patch</a> (A), and then, "Open" (B) to load it into FO3Edit as shown below:

<img src="./Miax's Tome of FO3Edit_files/image239.jpg">

</p><p>The "Compare To" version of the mod is loaded as read-only into FO3Edit, so you will not be able to make any changes to it, but you can copy from it into the version of <a href="http://www.fallout3nexus.com/downloads/file.php?id=3808">Unofficial Fallout3 Patch</a> that we loaded into FO3Edit at boot time. You can change the order and load either/any version of the mod first, so that you can edit/copy records into whatever version you loaded.

</p><p>Once the Compare To function loads the other version of the mod as read-only into FO3Edit, you will see a view similar to the one below. Note the two versions that appear together in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-hand panel</a> (A), and no errors noted in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> (B):

<img src="./Miax's Tome of FO3Edit_files/image241.jpg">

</p><p>With both versions of the mod now loaded with the Compare To function, the last step is to apply a Filter to find the changed records between them. Note that with the Fallout3 master files now listed as, "Hidden", they will not show up at all after we apply the filter – which is exactly what we want.

</p><p>To apply a Filter Right-click in open-space (A) in the Left-side Panel to render the main context menu. Click, "Apply Filter" (B) to open up the Filter menu as shown below:

<img src="./Miax's Tome of FO3Edit_files/image243.jpg">

</p><p>The main Filter window will render, where you can select the Mod Comparison Filter Settings as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image245.jpg">

</p><p>Selecting the, "By conflict status for this particular record" (A), "Identical to Master" (B), "Override without Conflict" (C) and "Conflict status inherited by Parent" (D) sets the Mod Comparison Filters. You can then select, "Filter" (E) to apply the filter.

</p><p>The Mod Comparison Filter should process quite quickly in most cases, unless you’re working with a very large mod file. The screenshot below highlights the status bar, which will tell you how far along the filter operation are towards completion:

<img src="./Miax's Tome of FO3Edit_files/image247.jpg">

</p><p>Once done, the screenshot below illustrates the result. Both versions of the mod (at the top level) have Yellow backgrounds in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> (A), indicating that they are not identical (of course). In the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Message Tab</a> we see that now errors were encountered by the Filter (B), along with some statistics:

<img src="./Miax's Tome of FO3Edit_files/image249.jpg">

</p><p>Opening one of the mods in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> and selecting a record highlights the similarities where they are identical between the two mods with Green backgrounds (A) and records that are different with Yellow backgrounds (B).

<img src="./Miax's Tome of FO3Edit_files/image251.jpg">

</p><p>At this point we are done with the comparison. You can browse through the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3808">Unofficial Fallout3 Patch</a> records between the new and old versions, and compare the differences at will. If you don’t need to make changes, you can simply close FO3Edit when done.

</p><p>If however there is a need to copy records from one version of the mod to the other, the process below will guide you through the steps. There are a few limitations to be aware of, such as you can’t drag-n-drop records from the version you loaded at boot time into the version you loaded with the "Compare To" function, but you can still copy from that version as shown below:

<img src="./Miax's Tome of FO3Edit_files/image253.jpg">

</p><p>Here we Left-click-and-hold the record we want to copy with the mouse (A), and drag it horizontally to the mod we loaded when FO3Edit booted-up (B). Dropping the record into the row will copy that record (and all of its attributers) into the other mod. The screenshot below shows the results, with both sides now identical (A) and the background of both now Green (B) indicating they are indeed duplicates:

<img src="./Miax's Tome of FO3Edit_files/image255.jpg">


</p><p>The screenshot below illustrates how FO3Edit will prevent you from drag-n-dropping records from the loaded version of <a href="http://www.fallout3nexus.com/downloads/file.php?id=3808">Unofficial Fallout3 Patch</a> into the "Compare To" version (which is loaded read-only). Note how when trying the drag-n-drop, you get a blocked-circle (B), indicating that you can’t drop records into the read-only version:

<img src="./Miax's Tome of FO3Edit_files/image257.jpg">

</p><p>When you’re done making changes, you’ll need to save them. You can either close FO3Edit or press, "Alt-S" to render the Save Changed Files window:

<img src="./Miax's Tome of FO3Edit_files/image259.jpg">

</p><p>With that, we’re done with mod comparisons and updates! Of course you should not change the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3808">Unofficial Fallout3 Patch</a> as that is for <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=20313">Quarn</a> to do, but there is no harm in experimenting with the mods to learn the process (just make sure to have a backup of the files before you do!).

</p><h1>Mod Utilities</h1>

<h2>Overview</h2>

<p>The mod utilities are a collection of functions that have been added to FO3Edit over the years for both Oblivion and Fallout3 that can aid mod authors in several areas. The next sections review these functions and describe how to utilize them.

</p><h2>Building Reference Information</h2>

<p>Building reference information is a common task that is often performed behind the scenes by FO3Edit, and essentially finds all instances of a "Thing" in the game. Be it a script, NPC or a toilet, the build reference info function will show you all of them across the mod files loaded into FO3Edit. In this section we feature <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=484105">Xodarap’s</a> <a href="http://www.fallout3nexus.com/downloads/file.php?id=334">Fallout Overhaul</a> (XFO) mod, which is known as one of the bigger, stable mods that changes that make your gaming experience much more challenging and immersive (I use this myself, so I had to feature Xodaraps fine work!)

</p><p>For our example of building reference information, there are a couple of choices to consider; If you are trying to find All instances of that Thing, then load all of the mod files when loading FO3Edit. If however you are looking for instances of a Thing in a single mod-file, then you’ll only want to load that mod-file as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image261.jpg">

</p><p>Here we start the action by Right-clicking in the open white-space of the Master/Plugin Selection window (A) which presents a small context menu. From this menu choose, "Select None" (B) to clear all check marks. Then you can select just the <a href="http://www.fallout3nexus.com/downloads/file.php?id=334">XFO</a> mod we want to load (C) and click, "OK" to bring it up into FO3Edit.

</p><p>Once
FO3Edit is loaded, you will be presented with a screenshot similar to that below. There you can see the three mods loaded, the <a href="http://www.fallout3nexus.com/downloads/file.php?id=334">XFO</a> stand-alone version and its two masters. To build reference information, Right-click on the <a href="http://www.fallout3nexus.com/downloads/file.php?id=334">XFO</a> entry in the Left-side Panel (A) which will present the main context menu. Select, "Build Reference Info" (B) from this menu as shown below:

<img src="./Miax's Tome of FO3Edit_files/image263.jpg">

</p><p>This will present you with a new window for, "Building reference information", where you can select the master files or other mod files that you want to build reference information for (A). If you are looking through all mod files, make sure that you select everything (you can also use the Right-click, "Select None" method to quickly check them all:

<img src="./Miax's Tome of FO3Edit_files/image265.jpg">

</p><p>This process can take some time depending on how many mods you are building reference information for. Fortunately there is a status indicator in the top window (A) that shows you the time elapsed during parsing as shown below:

<img src="./Miax's Tome of FO3Edit_files/image267.jpg">

</p><p>Note how there is a new Tab at the bottom the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_References_Tab">Referenced By Tab</a>, which displays the output of our reference check. As shown above, the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> shows the overall outcome of the function, while the screenshot below shows you the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_References_Tab">Referenced By Tab</a> and its output.

<img src="./Miax's Tome of FO3Edit_files/image269.jpg">

</p><p>In this case we Left-clicked on the Drink Toilet record in <a href="http://www.fallout3nexus.com/downloads/file.php?id=334">XFO</a>, and can see very instance of the toilet in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_References_Tab">Referenced By Tab</a>. Each row in the output shows you extensive information about the reference, the cell it’s placed in, the name of the location, it’s FormID, etc. You can run this function for any time in any mod that you wish!



</p><h2>Building Reachable Information</h2>

<p>For our example of building reference information, there are a couple of choices to consider; If you are trying to find All instances of that Thing, then load all of the mod files when loading FO3Edit. If however you are looking for instances of a Thing in a single mod-file, then you’ll only want to load that mod-file instead of the entire list. Some important notes about the "Build Reachable Info" function

</p><p>After you've run that function, you'll see that some records are displayed stricken-through. These records are considered to be "not reachable".

</p><p>There are some limits to this. The "not reachable" classification is only true if you:

</p><p>Start a new game with exactly the mods you've currently loaded.

</p><p>Do not use the console in any way.

</p><p>There are no <a href="http://www.fallout3nexus.com/downloads/file.php?id=4888">FOSE</a> scripts involved that use some dirty tricks to get hold of a reference to something without that something showing up in the SCRO's of the script.

</p><p>Also the meaning of "reachable" is sometimes a bit gray. For example; For Activator's,
Statics, Weapons, Armor, and so on "reachable" means that the player character should be able to get somewhere from where he can see the object and/or somehow get it into his inventory. For Quests it means that the quest either starts enabled or that there is probably some way how it can become enabled or at least that somewhere the variables belonging to the quest script get accessed. For DIAL's and INFO's it means that it's probably possible to select the topic somewhere or hear the response somewhere. For CELL's and WRLD's it means that the player character is probably somehow able to enter it.

</p><p>Start the action by Right-clicking in the open white-space of the Master/Plugin Selection window (A), which will present a small context menu. From this menu choose, "Select None" (B) to clear all check marks. Then you can select just the <a href="http://www.fallout3nexus.com/downloads/file.php?id=334">XFO</a> mod we want to load (C) and click, "OK" to bring it up into FO3Edit as shown below:

<img src="./Miax's Tome of FO3Edit_files/image270.jpg">

</p><p>Once loaded, Right-click on the mod to build reachable info for (A) to render the main context menu. Select, "Build reachable info" from the menu to run the function as shown below:

<img src="./Miax's Tome of FO3Edit_files/image272.jpg">

</p><p>As with the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Building_Reference_Information">Build Reference Information</a> function, the build reach ability function may take some time to process all of the records depending on how many mods you are loading for the comparison. The status bar at the very top will give you indication of how far along the function is during parsing as shown below. The <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> shows the log-file output as it happens, and overall this function can take some time to complete:

<img src="./Miax's Tome of FO3Edit_files/image274.jpg">

</p><p>Be aware that half-way through the process, the Elapsed Time clock on top will appear to stop, and FO3Edit will appear to be frozen or locked-up. In truth the Elapsed Clock only counts through half of the Build Reachable Info function, so be patient – the process will complete within a minute or two.

</p><p>Once the Build Reachable Info function is complete, you will see the, "All done!"
notice in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> (A) along with log file output. <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">The Left-side Panel</a> shows all of the records in the mod with Green Text, Yellow Background (B) as shown below:

<img src="./Miax's Tome of FO3Edit_files/image276.jpg">

</p><p>We’re not quite done yet, next we need to apply a Filter to remove all records from the view except those that are considered, "Unreachable". To do this,
Right-click on the mod in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-side Panel</a> (A), and select, "Apply Filter" from the main context menu:

<img src="./Miax's Tome of FO3Edit_files/image278.jpg">

</p><p>Once Apply Filter is selected, the main Filter window view will be presented as shown below, where you can apply the Reachable Info Filter.



</p><p>The screenshot below illustrates the Reachable Info filter settings that you will need to set; this time just two, "by not reachable status" (A) and "only not reachable" (B). Then select, "Filter" (C) to apply the new filter settings as shown below:

<img src="./Miax's Tome of FO3Edit_files/image280.jpg">

</p><p>This filter should not take very long to process, perhaps several seconds. Below an example is shown of the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> output, indicating the result of the filter (B). You can also see the stricken-through records (A) that are not reachable by the player:

<img src="./Miax's Tome of FO3Edit_files/image282.jpg">

</p><p>The final results of the Build Reachable Info function are shown in the screenshot below via the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> (A) and <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> (C), where the stricken-through records are shown with horizontal lines through the text. These stricken-through records are those which are not considered, "Reachable" by the player-character in-game. You can click-open any of the record headings in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-side Panel</a> to see the un-reachable records by category as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image284.jpg">

</p><p>Note that in the FormLists you might see some things marked as unreachable which do technically have an effect on the player character. For example, the repair lists will show up as unreachable. The reason for that is that if the repair-list was marked as reachable, it would automatically mark all contained records as reachable. But that's not really right. Just because something can possibly be used to repair an object that the character has doesn't meant that this something can actually ever be acquired by the player. So really, for FormLists the reachable status doesn't mean much either way.

</p><p>Outside of FormLists, there shouldn't be any false negatives (meaning something marked as unreachable which has an influence on the game). There can be false positives (something marked as reachable while it's not). e.g. it's possible for a CELL to be considered reachable even though the only way to get there is through a door which can only be opened with a key and the key is not reachable.

</p><p>For an INFO record to be reachable even though non of the conditions attached to the responses could ever possible be true. Or the quest that the INFO belongs to will never be enabled. For any type of object could be reachable even though it's just used in a GetIsID check in some script (not in a CTDA, objects referenced from conditions never become reachable through that).

</p><p>Overall,
even with all these shortcomings and gray areas, if someone ends up being marked as not reachable, that's a very strong indication that the particular thing will not normally effect the game.

</p><h2>Changing and Adding References</h2>

<p>One of the less-used features of FO3Edit allows you to actually insert to records (items, scripts, NPCs, etc) into a mod-file directly from FO3Edit. The GECK is of course the preferred method of adding new things to your mod, but in certain circumstances it is easier or simpler to add the thing directly to the file without the GECK. This function saw its most use just prior to the release of the GECK, when there was no tool to use for such purposes. Now with the GECK in play, there is less of a need for this capability, but it still exists in FO3Edit and is documented for cases in which you want to add references directly to the game.

</p><p>In this section we feature <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=7327">Martigen’s</a> <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">Marts Mutant Mod (MMM)</a>, which is one of the very best mods created for Fallout3. The screenshot below starts the action, in which we Right-click in open space somewhere in the Master/Plugin Selection window (A), then choose, "Select None" to un-check all of the entries. Now check-off the mod you want to change (C), and click, "OK" to load it into FO3Edit (D) as shown below:

<img src="./Miax's Tome of FO3Edit_files/image286.jpg">

</p><p>Once loaded, the screenshot below shows you the expected results. Here we see that only <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a> is loaded (A), along with its Master file references. The <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_Messages_Tab">Messages Tab</a> shows the outcome of the load, and any errors that may persist (B) as shown below:

<img src="./Miax's Tome of FO3Edit_files/image288.jpg">

</p><p>With our mod loaded and on the operating table, it’s time to start changing and added records! The first example below is of a reference change, in which we alter the Flags used on our test NPC, Lucky Harith (He is just THE man, so I had to feature him). The screenshot below illustrates the process:

<img src="./Miax's Tome of FO3Edit_files/image290.jpg">

</p><p>We start by opening-up the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> record tree for <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a> to the location where we want to change things (A), and choose Lucky Harith with a Left-Mouse Click (B). To edit a record, Right-click it’s entry in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> (C) to render a small context menu, then select, "Edit" (D) to open the edit context menu as shown above.

</p><p>The, "Edit Value" window will now be presented, allowing you to check/select any flags that you want Lucky Harith to have added to them. As we just can’t let Lucky down, we’ll give him an Essential flag so that he never dies! Check-mark the Essential flag row in the window (A) and select, "OK" to set the flagging
(B) as shown:

<img src="./Miax's Tome of FO3Edit_files/image292.jpg">

</p><p>Once OK is selected, you are taken back to the main View Tab where you can see the new flags set (A). Note that the Flagging is also now in Bold, indicating that they have been marked as changed and will thus be saved as shown below:

<img src="./Miax's Tome of FO3Edit_files/image294.jpg">

</p><p>Also note that the reference Text (B) and the record entry (C) are also both in Bold Text, marking them as changed for saving. See how easy that was!?!

</p><p>To add a new reference into a record, the process is very similar. Let’s keep with Lucky Harith, and add some Rad-X to his inventory so that he’s ready for everything! To do this, start by Left-Clicking the record you want to change (A) in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a>, then Right-click the row in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> adjacent to the type of record you want to add. In this case we’re adding an item, so to the right of, "Items" in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> is where you want to Right-click (B). A small context window will render, select, "Add" (C) as shown:

<img src="./Miax's Tome of FO3Edit_files/image296.jpg">

</p><p>Once you click, "Add", a new blank item entry will be added into the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> (A) next to the item reference (B). Also note it shows with a Yellow background (A).

<img src="./Miax's Tome of FO3Edit_files/image298.jpg">

</p><p>Initially all new items get added as a "NULL" (RefID 00000000) which is obviously not right. Once added you will need to change (Edit) the new item to turn it into the Rad-X item that we want to give to Lucky Harith. <br>

</p><p>To transform our new NULL item into Rad-X, we first Right-click on the new item (A) and click on which renders a small context menu. Select "Edit" (B) from the menu as shown:

<img src="./Miax's Tome of FO3Edit_files/image300.jpg">

</p><p>This will pull-up a small, "Edit Value" window as shown below. Here you can input the FormID of the Rad-X item, which is, "00015168". Enter that into the value field (A) and click, "OK" to apply the value (B):

<img src="./Miax's Tome of FO3Edit_files/image302.jpg">

</p><p>Once done, note below that our NULL item has magically turned into Rad-X! I bet Lucky Harith has never felt so safe! (B). Also note the text is in Bold, marking it for saving. You can also edit other values about the object as needed (such as count, etc) as shown:

<img src="./Miax's Tome of FO3Edit_files/image304.jpg">

</p><p>The last thing we need to do is save our changes! You can do this via either selecting, "Alt-S" and/or close FO3Edit to render the, "Save changed files" window. Here you can select/check any mod you want to save (A), and click, "OK" to save the files (B) as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image306.jpg">

</p><p>Note that different kinds of records will require different actions when adding new references, as scripts are different from items which are different from NPCs. You can take some time and explore the different types of additions as needed.

</p><h2>Marking Nodes as Modified</h2>

<p>This function is used by mod authors to mark certain records as having been modified, which means they will be saved when you press, "Alt-S" or exit FO3Edit. This is sometimes necessary when a mod author wants to force an update of a particular records or group of records to save even though FO3Edit registers to change. The process is one-step as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image308.jpg">

</p><p>The screenshot below shows the results, in which the record that was Marked as Modified now has Bold text (A). This record will now be saved when you exit.

<img src="./Miax's Tome of FO3Edit_files/image310.jpg">

</p><h2>Copying and Replicating Idle Animations </h2>

<p>Copying and Replicating Idle Animations is a specialized function that was written for <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=7327">Martigen</a> in support of <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">Marts Mutant Mod (MMM)</a>. What the function does is to copy a set of NPC idle animations from a list of available animations into an NPC. In this way, the process of creating new NPCs is dramatically improved and much less prone to errors when assigning idle animations. This process describes how that function works, and is clearly geared towards the mod author.

</p><p>To start the action, launch FO3Edit and Right-click in open space somewhere in the window (A) to render a small context menu. Select, "Apply None" (B) from this menu to de-select everything. You can then Left-click the check box for just the mod you want to copy idle animations into (C), and then, "OK" to load it (D). As this function was written by <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=380528">Elminster</a> for <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=7327">Martigen</a>, we of course will feature <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a> in this section as shown below:

<img src="./Miax's Tome of FO3Edit_files/image312.jpg">

</p><p>Once loaded FO3Edit presents the typical output as shown below, in which <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a> and its master file references are the only record-trees shown in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> (A):

<img src="./Miax's Tome of FO3Edit_files/image314.jpg">

</p><p>Next we’ll want top open <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a> up in the Left-Side Panel by Left-clicking on the record tree (A and B). This will expose the interior of the <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a> plug-in, and allow you to select the NPC that you want to copy Idle Animations into (C). Right-click on this NPC (C) to render the main context menu, then select, "Copy Idle Animations into…" as shown:

<img src="./Miax's Tome of FO3Edit_files/image316.jpg">

</p><p>You will be presented with the classic FO3Edit warning window, harkening doom upon the universe should you dare attempt to tamper with this mod file! Indeed, you should not change other people’s mod files as a general rule. We are only changing <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a> for the purposes of this tutorial; just don’t save it when you’re done eh?

<img src="./Miax's Tome of FO3Edit_files/image318.jpg">

</p><p>If you dare, select, "Yes I’m absolutely sure" to continue.

</p><p>Next you will be presented with the, "Which Idles do you want to copy?" window, which offers the master selection of available idle animations that you can choose from. Do not ask me how to create these idle animations, as I do not know. You can ask <a href="http://www.bethsoft.com/bgsforums/index.php?showuser=7327">Martigen</a> in the forums about this, but I recommend strong doses of Rad-X first or he may simply morph you into a night-ghoul for daring to bother him. Otherwise, take the wise choice and select one of the available groups of idle animations to copy (A) and the click, "OK" to load them into the buffer (B) as shown below:

<img src="./Miax's Tome of FO3Edit_files/image320.jpg">

</p><p>You will now be presented with a series of small Edit Box windows, which are used to customize the naming of these idle animations and thus prevent duplicates. The first window asks for a new Model Prefix (A) – which allows you to specify a new model-name for these animations as shown below:

<img src="./Miax's Tome of FO3Edit_files/image322.jpg">

</p><p>The next EditorID window allows you to Remove a portion of the current idle animations name in the new versions your creating (A). This is Optional, click
"OK" either way.

<img src="./Miax's Tome of FO3Edit_files/image324.jpg">

</p><p>The next EditorID Prefix window allows you to add a new unique name to the Beginning of each animation name (A). This you should use, pick something unique to your mod:

<img src="./Miax's Tome of FO3Edit_files/image326.jpg">

</p><p>The last EditorID Suffix window allows you to add something to the End of each animation name (A), which again is Optional. Click, "OK" either way to finish:

<img src="./Miax's Tome of FO3Edit_files/image328.jpg">

</p><p>Finally we reach the last step, in which a window is presented with the available loaded mod-files that you can copy these idle animations into. For the purposes of this demo we chose <a href="http://www.fallout3nexus.com/downloads/file.php?id=3211">MMM</a>’s Master file (A), as shown in the screenshot below:

<img src="./Miax's Tome of FO3Edit_files/image330.jpg">

</p><p>Selecting, "OK" (B) will execute the paste command and place the new idle animations into the mod file you specified. The screenshot below illustrates a typical result, in which both the File Header and Idle Animation record headings show with Bold text (indicating that they have changed and are thus marked as modified for saving):

<img src="./Miax's Tome of FO3Edit_files/image332.jpg">

</p><p>Opening the Idle Animation record tree in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> (B) will reveal the newly-copied animations as shown below.

</p><p>The output screenshots below illustrate both the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Left-Side_Panel">Left-Side Panel</a> results (below) and the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> output for each new animation (bottom). Note how each animation that was copied now carries the new Prefix, "Animations" (B) as well as the new Suffix, "mmm" (C) that we chose in the four EditorID windows.

<img src="./Miax's Tome of FO3Edit_files/image334.jpg">

</p><p>Note below the details about each idle animation as shown in the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">View Tab</a> (B). Each animation includes many variables and details that would be time consuming and error-prone to do by hand. This Copy Idle Animations function automates the process.

<img src="./Miax's Tome of FO3Edit_files/image336.jpg">

</p><p>The final step is to save our hard work! Either pressing, "Alt-S" or closing the FO3Edit program with present you with the Save changed files window as shown below. Simply ensure that the mod you worked on is checked (A), and press, "OK" to Save. (Don’t try this at home kids!):

<img src="./Miax's Tome of FO3Edit_files/image338.jpg">

</p><p>Note again that you should not be changing MMM or any other mod that you did not create. This function is purely for mod authors in creating their own mods which require many new NPCs, for which this function can automation part of the work.

</p><h2>Applying Scripts Into</h2>

<p>Download this: <a href="http://fallout3nexus.com/downloads/file.php?id=1904">http://fallout3nexus.com/downloads/file.php?id=1904</a><br>It makes use of this function. If you have still questions about it afterward feel free to ask again.<br'>

</br'></p><p>NEED MORE INFO!

</p><h2>Deprecated Functions</h2>

<p>There are three options in the main context menu that were built for Oblivion and were carried-forward into the Fallout3 version of FO3Edit. These functions may still work for Oblivion, but they do not work for Fallout3 and are considered Deprecated functions which should not be used for any reason. You may even crash FO3Edit by trying to run them. These functions that are deprecated for Fallout3 are:

</p><ul>
 <li>Object LOD
 </li><li>Set VWD for all REFR with VWD Mesh in this file
 </li><li>Set VWD for all REFR with VWD Mesh copy as override…
</li></ul>

<h1>FO3Edit FAQ</h1>

<h2>Overview</h2>

<p>The idea behind the FAQ is to make it easier for you to find the FO3Edit information that you need, without having to read this entire manual – that could put anyone into a coma. As I really don’t want the hassle of law suits, it is in both of our best interest that this tutorial is simple to navigate and quick to find resolution to the tasks at hand.

</p><p>FAQ Navigation really means using the FAQ to direct you to the right cell (section) of the document that describes what you need to do. In some cases, the FAQ itself will be all the help that is required. In other cases, you may want/need to learn the process at depth. Each Question/Answer combination has a teleport XMarker that you can activate by holding down Control and Left-Clicking on the XMarker with your mouse. Activating the XMarker will teleport you to the appropriate cell in the document for further details.

</p><p>The FAQ is divided into Beginner, Intermediate and Advanced sections to better organize the questions, and further insulate your brain from over-exposure to technical documentation. The idea being that most users should start in the Beginner section and advance forward until find the answers you seek. If you do not find the answers you were looking for, please post them in the <a href="http://www.bethsoft.com/bgsforums/index.php?showforum=46),">Bethesda GECK Forum</a> so that we can update the FAQ.

</p><p>All Acquisition and Installation questions are covered in Chapter 2 above.

</p><h2>Beginner Questions</h2>

<p>The Beginner FAQ covers two key functions of FO3Edit; Conflict Detection / Resolution and Master Update Mode (MUM). As these are the two most heavily used functions of FO3Edit, we focus beginners on these processes and questions. We start with MUM and end with Conflict Detection / Resolution.

</p><h3>"What mods do I select when I first load FO3Edit?"</h3>

<p><b>When loading FO3Edit, do I select all of the mods at once and apply a filter or does it need to be done individually?</b>

</p><p>Two Answers here, depending on what your trying to accomplish:

</p><p>If you’re <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Detection_and">de-conflicting your mods</a> so that you can play crash-free, then you want to select All of the mods (with the single exception of any previous patch plug-in you created, you don’t want to load that if you’re building a new patch plug-in).

</p><p>If you’re <a href="http://dl.dropbox.com/u/17043363/readme.html#_Mod_Cleaning_and">cleaning your mod</a> or wanting to modify/work on just your own mod, then; Right-click in the load-window and choose, "Select None". Then find your mod in the list and just select that mod. The loader will automatically pick-up any ESM master files that your mod depends on. The section on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Mod_Cleaning_and">Mod Cleaning and Error Checking</a> will describe the process at depth.

</p><h3>"Appling conflict filters shows almost every mod has conflicts!"</h3>

<p><b>When I apply my conflict detection filter, almost all of the mods in my list have Red backgrounds! Am I totally conflicted here?</b>

</p><p>Red isn't necessarily bad, although it does point you to conflicts. With that many mods, a <a href="http://dl.dropbox.com/u/17043363/readme.html#_Creating_a_Merged_">merged patch Plug-in</a> is a must. Following the instructions in the section on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Understanding_Patch_Plug-ins">Patch Plug-ins</a>, and you should see that all of the intended edits will be playing nicer with each other. The chapter on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Resolution">Conflict Detection and Resolution</a> will show you the differences.

</p><h3>"Should I make changes to the mods if there is a conflict?"</h3>

<p><b>When <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Resolution">de-conflicting my mod</a>, is it okay to drag/drop changes into the mod with a conflict, or just edit the field in the mod to fix the conflict right in that mod file?</b>

</p><p>No, you shouldn't be modifying mods you didn't create yourself like that or you'll just get into trouble the next time one of these mods is updated. Instead you should use "copy as override into" a new Plug-in on the currently winning record version and then drag n' drop the changes from all other record versions together. <a href="http://dl.dropbox.com/u/17043363/readme.html#_Understanding_Patch_Plug-ins">Creating a patch plug-in</a> which can be loaded after all the conflicting mods to resolve these conflicts. The chapter on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Resolution">Conflict Detection and Resolution</a> will show you the differences.

</p><h3>"Where in the load-order should my patch plug-in be placed?"</h3>

<p><b>Where in the load-order should my patch plug-in be placed?</b>

</p><p>Yes your <a href="http://dl.dropbox.com/u/17043363/readme.html#_Understanding_Patch_Plug-ins">merged-patch</a> loads last, and the masters (.ESM files) which it patches (.esm's and .esp's) will be automatically added. Modding-Up correctly.

</p><h3>"What does the patch plug-in really do for my Fallout3 load order?"</h3>

<p><b>What does the patch plug-in really do for my Fallout3 load order? Do I really need to go through this trouble to create one?</b>

</p><p>If you run more than 25 mods, you really do need to create a patch plug-in in most cases. What the patch does is to join edits to a mod in such a way that both edits will work on the same thing.

</p><p>Say for example mod #1 says you'll find raiders with flamers and mod #2 adds rocket launchers to them instead. If mod #2 loads last, it will be the conflict winner and you'll find raiders with flamers. <a href="http://dl.dropbox.com/u/17043363/readme.html#_Understanding_Patch_Plug-ins">If you use a patch Plug-in</a>, you'll find raiders with both flamers and rocket launchers. It doesn’t always work out this smoothly, but it does in most cases. For an in-depth discussion see the chapter on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Resolution">Conflict Detection and Resolution</a>. To get into the Wasteland Fast, you can do this most easily by <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a>.

</p><h3>"Does FO3Edit MasterUpdate correct the white face bug?"</h3>

<p><b>Does FO3Edit MasterUpdate correct the white face bug? It is the only one I have been able to find since trying this - it is great otherwise.</b>

</p><p>Reports we got during testing seems to indicate that <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> fixes the white face bug. Make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.

</p><h3>"What version of Fallout3 edit do I need FO3Edit for?"</h3>

<p><b>Do I need to run FO3Edit under Fallout3 v1.4 first and then apply the v1.5 patch?</b>

</p><p>No you don't need to reinstall. All you need to do is to make sure that you run <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> after any change to your load order. You can run FO3Edit under any version of Fallout3. Make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.

</p><h3>"Does FO3Edit fix Enclave radio broken by the Broken Steel?"</h3>

<p><b>Can the MasterUpdate using FO3Edit cause Enclave radio to come back on air during broken steel?</b>

</p><p>I'm pretty sure I've heard about people complaining about this here on the Forum before I ever released <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> even for testing. I would guess it's one of (many) bugs in BrokenSteel.esm or a conflict with some other mod you've installed. Make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.

</p><h3>"What happens if I can’t get rid of my conflicts?"</h3>

<p><b>What happens if I still have mod conflicts in-game even after creating a patch Plug-in and running MasterUpdate mode (i.e. "Modding-Up")?</b>

</p><p>There is frankly nothing that FO3Edit can do different in <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a>, all it does is turn everything into a master and creates the necessary ONAM records for the masters to talk back and forth. Any problems that show up after patching up to 1.5 and running <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> are the result of either:

</p><p>General bugs in Patch release your running.

</p><p>A problem specific to how masters are handled.

</p><p>A module file that's broken in some way (which might show up more or at all because 1.5+ESM is now doing something RIGHT at the engine level).

</p><p>Conflicts between installed modules (ditto)

</p><p>Make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly before playing.

</p><p>See the chapter on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Resolution">Conflict Detection and Resolution</a> if you’re still stuck for instructions on how to "Slay the Bug".

</p><h3>"I get an error, ‘Record XXXX is not contained in a group’?"</h3>

<p><b>What should I do when I get an error during loading FO3Edit like this:</b>

</p><p>"Record fBloodSplatterFadeStart [GMST:080304D5] is not contained in a group." and I had to disable it to get the master update to complete. Is this something I've done wrong with load order or some sort of conflict, or something that needs to be reported to the mod author to correct in the esp?

</p><p>As I said before, there are still many mods out there that have been hacked together in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> and are not actually structurally valid Fallout 3 module files.

</p><p>Important with such mods: Do NOT just disable it, run <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> and then ENABLE it again. <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> will only work correctly if it has processed ALL the modules you load into your game. This is an all or nothing deal.

</p><p>Any module that gives trouble during loading or saving in FO3Edit/<a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> is BROKEN anyway and should never be loaded into any game, no matter if it's as Plug-in into pre-1.5 or ESMified into 1.5.

</p><h3>"Does MasterRemove remove the ONAM records added by MasterUpdate?"</h3>

<p><b>A question about MasterRestore mode: does it remove the ONAM records added by MasterUpdate?, or are the ONAM records harmless on Plug-in files?</b>

</p><p>When with <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Restore_Mode">MasterRestore</a> the ESM flag is turned off, the ONAM's automatically go away. "Yes" and "Yes, as far as I know".

</p><h3>"Can I run MasterUpdate one-mod-at-a-time, to check them out?"</h3>

<p><b>Is there any downside to checking one mod in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>, and then running <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a>. Then after it's finished, and there's no errors, checking the next mod in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> and running MasterUpdate again? Doing it mod by mod like that until eventually they're all checked?</b>

</p><p>No, that should be fine as long as you don’t Play the game in-between these steps. <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> MUST be run with your full mod-list checked before you play. Make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.

</p><h3>"What’s with all these backup files building-up in my Data directory?"</h3>

<p><b>I've been getting a lot of 0/1kb insertmodnamehere.esp save/backup files in my data folder. What exactly are these?</b>

</p><p>When FO3Edit/<a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> saves a file, it first writes a new file with .esp/m.save.&lt;datetime&gt; as extension. When you then close the program (and in case of <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a>, only if there weren't any errors when saving any of the files) then the existing original module files are renamed to .esp/m.backup.&lt;datetime&gt; and the newest .esp/m.save.&lt;datetime&gt; file for each module is renamed to .esp/m. These can be deleted without worry of harming your game or mods, and are purely for backup purposes.

</p><h3>"How many mods can F03Edit load?"</h3>

<p><b>How many mods can F03Edit load? I can't seem to get but just half of my mods loaded at one time. I have over 170 mod to edit am I missing something or doing something wrong?</b>

</p><p>You can have 256 total mods in Fallout3 and FO3Edit, one more then the game engine itself. However, FO3Edit is uses a lot of memory to load entire mod lists and compare everything – and that goes up the more mods you add. If you find that you cannot run FO3Edit with a huge number of mods, check to see that your computer is not running out of memory. FO3Edit will warn you that memory is exhausted in most cases.

</p><p>I have made FO3Edit work successfully with close to 200 mods loaded on a Windows XP machine with 3 gigs of Ram. Make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly before playing.

</p><h3>"Will MasterUpdate work if I have 200+ mods?"</h3>

<p><b>With the MasterUpdate function, can I use this if I have lots of mods (esp and esm files) installed and have never done the MasterUpdate before? Or does it have to be started with a fresh game install and then performed one mod at a time? Hopefully my question makes sense.</b>

</p><p>There is no problem running <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> with a large number of mods. If you currently have a large setup that works correctly under pre-1.5, you can just run <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> on it, patch to 1.5, remove the fake patch if you use it, and everything should work. <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> mode also takes less Ram then when doing conflict detection with FO3Edit itself. Make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly before playing.

</p><h3>"After Filtering for conflicts, I don’t see anything on the Left-hand side!"</h3>

<p><b>After I run FO3Edit, and after filtering for conflict detection, if there's nothing on the left side, does that mean my load order is fine?</b>

</p><p>Yes if you ran through the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Conflict_Resolution">conflict resolution</a> process and get no red or yellow coloring, you’re clean! Nice work!

</p><h3>"Why does the Change Confirmation window force me to wait?!"</h3>

<p><b>When I first make changes to a mod, I get a huge timed warning that forces me to wait before allowing me to click Yes. Is there any way to turn the three-second modify warning off?</b>

</p><p>Yes, but it's there for a reason. Also, the 3 second delay gets reduced by a few fractions of a second every time you confirm that dialog till after a while it's completely gone.

</p><h3>"I deleted a plug-in file but FO3Edit seems to think it’s still there?"</h3>

<p><b>I deleted a plug-in file but FO3Edit seems to think it’s still there? When FO3Edit load itself, I see the messages about "Error: Active Plug-in List contains nonexistent file "merged.esp"". I'm absolutely sure- I remove this ESP from load order and from disk with help of <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>. What’s the deal?</b>

</p><p>That means that you deleted the file from disk, but it's still listed as an active Plug-in in your Plugins.txt (see the message log for the location of that file). The Plugins.txt file is used by the game engine to decide which modules to load.

</p><p>Any listed module which doesn't exist in the file system is just ignored by the game engine (and FO3Edit). So there is nothing to worry about with that error message. It has no further consequences. If you want to remove the error message, edit the Plugins.txt file and remove its entry from that file. Make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly before playing.

</p><h3>"How do I start the master update mode?"</h3>

<p><b>How do I start the master update mode? Do I just load FO3MasterUpdate.exe and it does it automatically? I didn't see any special options after right clicking any mods.</b>

</p><p>If you renamed your FO3Edit.exe to FO3MasterUpdate.exe, then all you need to do is start it. <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> should run through and do its work automatically.

</p><p>If you get an --= All Done =-- at the end of the log you are fine and ready to play after closing the program. However if you get an --= Error =-- then you need to read the log closely and resolve whatever is the problem till you get the All Done.

</p><p>Do not make any changes to your load order (activating/deactivating/moving any modules) between running <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> and playing the game. If you do make changes to your load order, run <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">FO3MasterUpdate</a> again. Make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.

</p><h3>"Should I make a new merged patch if I change my load order in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM?"</a></h3><a href="http://www.fallout3nexus.com/downloads/file.php?id=640">

</a><p><a href="http://www.fallout3nexus.com/downloads/file.php?id=640"><b>So if I make a new load order in </b></a><b><a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>, should I make a new merged patch as well right?</b>

</p><p>That is correct, if you change the load order you need to create a new merged patch so that the data is always kept in the right order. Failure to do this can result in CTD’s. That’s why Patch Plug-in’s should be a last resort and not automatically what you do to resolve conflicts.

</p><p>The best practice is to create a patch plug-in once you are reasonably sure that your load-order is settled and static for your current game/character. After you start playing, altering the load order can result in problems for that character, so it’s best to put the effort into a patch plug-in once you’re ready to start seriously gaming OR if you have serious conflicts that can’t be resolved by changing the load-order alone. Make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.

</p><h3>"I am having problems getting FO3Edit to work on Vista"</h3>

<p><b>I am having problems getting FO3Edit to work on Vista in the Program Files folder. Am I doing something wrong?</b>

</p><p>It is possible to install the game to the Program Files folder under Vista, but you have to deal with the UAC security first. You have three options:

</p><p>Disable the UAC completely, but this will leave your system more vulnerable.

</p><p>Install in a folder not controlled by UAC.

</p><p>A much better way to solve the problem (of write-redirection to the VirtualStore) is to simply give the "Users" group "Full Control" of the Fallout 3 folder.

</p><h3>"After FO3Edit loads, I can’t get the context menu on the left to load!"</h3>

<p><b>After FO3Edit loads, I can’t get the context menu on the left-hand side to load up! I can right-click in the right-window, but the left window gives me nothing. What’s up with that?"</b>

</p><p>In these cases there is actually a problem with your files or your load-order, and
FO3Edit is unable to process them. Exit FO3Edit and use <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> to check/correct any load-order issues. Make sure your patch plug-ins (if you have one) loads last as well and re-run FO3Edit. See the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Tour_of_User">Interface Tour</a> to gain a better understanding of the views.

</p><h2>Intermediate Questions</h2>

<h3>"Should I clean all of the mods that I use including FOOK, FWE, MMM, etc?"</h3>

<p><b>Should I clean all of the mods that I use including FOOK, FWE, MMM, etc?</b>

</p><p>No, you should only clean a mod that you own or are on a team that owns. If you think that a mod is very dirty and should be cleaned, the best approach is to recommend it to the mod author on the forums. See the section on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Mod_Cleaning_and">Mod Cleaning and Error Checking</a> for more information

</p><h3>"Is there a function that pops up if you double click something?"</h3>

<p><b>Is there a function to the window that pops up if you double click something? There doesn't seem to be a way to edit anything in that window.</b>

</p><p>Yes, it makes it possible to read long texts like script source. See the section on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Changing_and_Adding">Adding and Editing References</a> for more information.

</p><h3>"Difference between 'copy as override' and 'deep copy as override'?"</h3>

<p><b>What is the difference between 'copy as override' and 'deep copy as override'?</b>

</p><p>If you copy a DIAL record as override it only copies that DIAL record, if you use "deep copy" as override then it also copies all the INFO records underneath. See the section on creating a <a href="http://dl.dropbox.com/u/17043363/readme.html#_Creating_a_Patch">Manual Patch Plug-in</a> for examples of how to use Overrides and Deep Overrides.

</p><h3>"Replicating a dialogue block with all topic blocks that belong to it"</h3>

<p><b>What if I want to replicate a dialogue block with all topic blocks that belong to it?</b>

</p><p>You need to get a copy of a DIAL and all INFO records under it as new records using the following:

</p><p>Use "Deep Copy as Overrride into...".

</p><p>Go to the override copy of the DIAL record (you can just CTRL+Click on the "Record Header \ FormID" field of the override copy in the detail view)

</p><p>Select that record in the navigation tree view.

</p><p>Press F2 (opens the change FormID dialog)

</p><p>Backspace (clears the FormID)

</p><p>Enter (shows the dialog again with a newly generated unique FormID)

</p><p>Enter (confirms the change)

</p><p>Repeat for the INFO records (Cursor Down, F2, Backspace, Enter, Enter, repeat)

</p><p>See the section on creating a <a href="http://dl.dropbox.com/u/17043363/readme.html#_Creating_a_Patch">Manual Patch Plug-in</a> for examples of similar actions using Copy as Override / Deep Override Into.


</p><h3>"Having troubles updating stuff from one mod version to another"</h3>

<p><b>I am running into issues trying to update stuff from one version of a mod to another.</b>

</p><p>For comparing / moving data between 2 versions of the same mod:

</p><p>When starting FO3Edit, only load ONE of the 2 versions.

</p><p>Select the file in the navigation tree view.

</p><p>context menu -&gt; Compare to

</p><p>select the 2nd file in the file open dialog (it needs to be in the data folder for this to work currently)

</p><p>the 2nd file now gets loaded with the same load order index as the first file

</p><p>See the section on creating a <a href="http://dl.dropbox.com/u/17043363/readme.html#_Creating_a_Patch">Manual Patch Plug-in</a> for examples of similar actions using Copy as Override / Deep Override Into.

</p><p>Doing that FO3Edit would have recognized the records in the 2 modules as being overrides of each other which would have simplified copying stuff around a lot. Also see the section on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Comparing_Two_Versions">Comparing Two Versions of a Mod</a> for examples of how to compare them efficiently.

</p><h3>"How do I convert an ESP into an ESM?"</h3>

<p><b>I'm trying to turn an esp into an esm using FO3Edit, but I can't seem to find a way to save the file as an esm or "convert" it as it were. I know that there is a way to do it, I believe there's supposed to be a copy into... function, yet I can't seem to find it.</b>

</p><p>Look at the File Header. Set the ESM Record Flag. Save. You are done. The file extensions do not matter for the game engine. But if you want you can now rename your file from .esp to .esm. See the section on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Converting_a_Plug-in">Converting a Plugin into a Master</a> for a detailed description.


</p><h3>"Why should I "clean" my mod? It works just fine how it is!"</h3>

<p><b>Why should I "clean" my mod? It works just fine how it is!</b>

</p><p>The large majority of mods currently in circulation are unfortunately in rather appalling condition, with dirty edits, deleted references, unintended changes, you name it. GECK makes it very easy for these things to slip in. Even worse, there are still a significant number of mods out there which have been hacked together in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> or even hex editors that in no way shape or form conform to the implicit rules of the FO3 module file format. See the chapter on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Mod_Cleaning_and">Mod Cleaning and Error Checking</a> for a detailed description of how this is done.

</p><p>What is needed from all mod authors is a concentrated effort to clean up their mods and in general minimize the number of vanilla records they touch to reduce conflict potential.

</p><h3>"Many of my NPCs in-game has stark white-faces!?"</h3>

<p><b>Many of my NPCs in-game has stark white-faces! Did FO3Edit do this?</b>

</p><p>The white face bug is Not fixed by FO3Edit. The bug that FO3Edit fixes is the white BODY bug. To fix the white face bug, you have to edit your fallout.ini and add this line below the
[General] statement:

</p><p>bLoadFaceGenHeadEGTFiles=1

</p><p>Also make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.

</p><h3>"I have FOOK and get a load error like this, did I do something wrong?"</h3>

<p><b>I have FOOK and get a load error like this, did I do something wrong?</b>

</p><p>"[00:20] Background Loader: Error: record LVLI contains unexpected (or out of order) sub record LVLI 494C564C"

</p><p>Nothing you or FO3Edit did wrong. I'm aware for some time now that FOOK 1.6 contains this broken deleted record. Besides being broken, it shouldn't have been deleted in the first place and can cause CTDs.

</p><p>You can fix it with FO3Edit by loading FOOK.esp (as you are obviously doing) then going to that record (enter 0002968D into the FormID search edit above the navigation tree view and press enter) and then REMOVE that record from FOOK.esp. Make sure that you are removing it from the right file! (It should have the "Deleted" Record Flag set in FOOK.esp). Also make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.


</p><h3>"I found records that I’ve changed don’t exist in Fallout3.esm!"</h3>

<p><b>When opening an esp in FO3Edit, it shows that of all the iXPReward****
records I’ve changed, that these ones do not exist in fallout3.esm. The other Game Settings I’ve edited show the yellow/green colors of "override without conflict", but these 5 are simply black on white, as if these are brand new settings. Is this a bug in FO3Edit?</b>

</p><p>No it is not. The default values for the different GMSTs are hardcoded in the exe
(both GECK and game engine). GMST sub records in Fallout3.esm are only present for the GMSTs that have been overridden by the game designers from their hardcoded default values (which were set by the programmers in source code).

</p><h3>"How do I reverse MasterUpdate so I can edit my ESP in the GECK?"</h3>

<p><b>I checked the OP for instructions on how to reverse FO3MasterUpdate... how is it done?</b>

</p><p>Either run <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Restore_Mode">FO3MasterRestore.exe</a> (preferred) or revert to the last backup made when <a href="http://dl.dropbox.com/u/17043363/readme.html#_Master_Update_And">MasterUpdate</a> ran last. Also make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.

</p><h3>"How can I see individual records from a mod?"</h3>

<p><b>How can I see individual records from a mod?</b>

</p><p>By navigating that tree view you can look at every single record in any of your modules. Once a record has been selected the detailed contents of that record is shown on the right side. The detail view shows all versions of the selected record from all modules which contain it. See the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">Right-Side View Tab</a> tour for details.

</p><h3>"How do I view all of the references in a mod, not just conflicts?"</h3>

<p><b>When I load the ESP I've been working with, which depends on 2 ESMs (Fallout3 of course, and BHRM--Bobblehead Remove and Move), neither the ESP, nor the additional ESM, will show me everything until I tell it to filter some of the extraneous information out. How do I view all of the references?</b>

</p><p>In the <a href="http://dl.dropbox.com/u/17043363/readme.html#_Right-Side_View_Tab">Right-Side View Tab</a>, right click and make sure "hide no conflict rows" is unchecked.


</p><h3>"I cleaned my mod and am getting CTDs with NAVM errors?"</h3>

<p><b>I just cleaned my mod and am having CTD’s and all sorts of errors with NAVM records? Did the cleaning process break my mod?</b>

</p><p>NAVM and NAVI records work together in that the NAVI is an index of sorts for the NAVM records. Thus if the cleaning process removes any NAVM records, you must update the NAVI data as well. Thus after any cleaning which touches NAVM records you will have to simply Load and Re-Save the file GECK so that the NAVI records are re-built (which the GECK does automatically when you save). After saving, run MasterUpdate and you should be good to go. Also make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.


</p><h3> "How do I reverse an un-intended change?"</h3>

<p><b>I made some un-intended changes to the main game files and don’t know how to un-do those changes so that the original versions return. How is this done?</b>

</p><p>Normally the word "remove" is used to describe removing a record from a module (in which case, if it was an override record, the original will "shine through" again). While "delete" normally refers to setting the "Deleted" flag on a record (in which case this "deleted" record will hide away whatever original record it overrides).

</p><h2>Advanced Questions</h2>

<h3>"What is Fallout3.Hardcoded.esp?"</h3>

<p><b>What is Fallout3.Hardcoded.esp?</b>

</p><p>This file contains some records which are hardcoded in GECK and the game engine (not contained in Fallout3.esm) but referenced from records in Fallout3.esm. PlaneMarker and PortalMarker STAT records to name just one example. The Fallout3.Hardcoded.esp must be in the same folder as the FO3Edit.exe and NOT in the Data folder. The game engine or GECK will never see that file and never load it.

</p><p>When you start GECK without loading Fallout3.esm, you can see that there are some records already defined. The reason is that these records are hardcoded in the exe already. Some of these records are overridden in Fallout3.esm. Some others are not. But Fallout3.esm contains records with references to some of these hardcoded records that are not being overridden.

</p><p>If you now load Fallout3.esm alone in FO3Edit, which doesn't have these "hardcoded" records in the exe itself like GECK. Then it appears as if Fallout3.esm contains a lot of invalid references. This is where Fallout3.Hardcoded.esp comes in. It contains all the hardcoded records which are not overridden in Fallout3.esm already. By loading this esp at the same load order ID as Fallout3.esm it is as if these records were defined in Fallout3.esm.


</p><h3>"Can I have a plug-in that references another plug-in as its master?"</h3>

<p><b>Can I have a plug-in that references another plug-in as its master? FO3Edit seems to do this, but I don’t see how to do it in the GECK.</b>

</p><p>FO3Edit can handle Plug-ins (.esp) having other Plug-ins as master. GECK can not, so such a file can no longer be simply opened in GECK. See the section on <a href="http://dl.dropbox.com/u/17043363/readme.html#_Adding_Master_Files_">Adding Masters to a Plug-in</a> for more details.

</p><h3>"Can I remove the delay between clicking an entry and the edit box?"</h3>

<p><b>When trying to Edit a cell, there is a delay between clicking an entry the second time and having the edit-box appear. Can this delay be removed?</b>

</p><p>Just use F2. I'm not quite sure where that delay comes from (but probably has to wait until the system wide configured double click time expires to be sure it's a single click and not a double click).

</p><h3>"Is there a "Goto" option in the context menu for pulling-up a FormID?"</h3>

<p><b>For sub-records which are form IDs, it would be great to have a 'go to' option in the context menu which would then just select that form ID in the tree view.</b>

</p><p>Hold CTRL down, and then click. Also, for fields where the text doesn't fit, hold SHIFT down and move the mouse over them to get a tooltip with the full text.

</p><p>With the Ctrl+Click, you can do that any number of times and then simply return to where you came from with the little back and forward buttons in the top right corner. If you have a mouse with more then 2 keys you can also use the "back" and "forward" keys on your mouse.

</p><h3>"Can you help me with the Optcodes for IsInCombat?"</h3>

<p><b>I've just got a query about how we're supposed to input conditions. I'm trying to make a perk that works when you activate something out of combat, but I can't seem to input the "IsInCombat" function. I've tried using the opcode from this list, and I've tried converting the opcode to decimal, but it doesn't display the name.</b>

</p><p>You have to cut off the first 1. So 1121 is 121 -&gt; 289 -&gt; IsInCombat. Just tested and works fine. The first 0/1 is for console/nonconsole. Also, there’s a minor typo in the PRKC label. It's not Index, it controls the reference the CTDA is called on.

</p><p>0 = player

</p><p>1 = current weapon/activation target

</p><p>2 = hit target (for combat)

</p><h3>"During the loading process, I notice some of the mods show Errors"</h3>

<p><b>During the background loading process, I notice some of the mods show Errors, but FO3Edit seems to load them anyway.</b>

</p><p>Many files that have been hacked together using <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> or even a Hex Editor are not conforming exactly to this standard structure and FO3Edit will reject saving such a file (or depending on how severe the problem is might even reject loading such a file). I'd suggest loading it in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a>, running the sanitize spell, resaving it and then try FO3Edit on it again. Sanitize will at least fix the missing group problem that FO3Edit doesn't like.

</p><h3>"Is there a way to look up the records opt-codes?"</h3>

<p><b>Is there a way to look up the records opt-codes?</b>

</p><p>The numbers there are the opcodes for the functions used. The full list of functions is here:

</p><h3>"is "HasPerk" available in the CTDAs?"</h3>

<p><b>Shortcut question: is "HasPerk" (which IS a script command) available as far as you know, in the CTDAs?</b>

</p><p>Those numbers are in hexcode, you need to drop the first 1, and then convert the last 3 digits to decimal. So on that list, GetPermAV is 11EF. You drop the 1 to make it 1EF, then convert that to decimal, which gives 495. To make your life easier, HasPerk is 449.

</p><h3>"Can we edit text in the expanded windows?"</h3>

<p><b>Can we edit text in the expanded windows? I'm trying to write a script and it's a bit inconvenient to write it in notepad and copy-paste across.</b>

</p><p>This works by double clicking while holding the shift key.

</p><h3>"Where can I learn more about FLST Lists?"</h3>

<p><b>Where can I learn more about FLST Lists?</b>

</p><p>An advanced discussion can be found on the <a href="http://www.bethsoft.com/bgsforums/index.php?showtopic=971140">Bethesda Forums</a>.

</p><h3>"Can we list the mod index for each master/Plug-in loaded in the dump?"</h3>

<p><b>Would it be possible to list the mod index for each master/Plug-in loaded (included the module specified) in the dump? Then you could determine a record's module directly from its FormID.</b>

</p><p>Different then what FO3Edit is showing you, the dump is NOT showing load order corrected FormIDs. You see the FormIDs as they are stored in the file. Which means that the MAST sub records from the TES4 file header directly give you all the information you need to map FormIDs to files. e.g. if there are 3 MAST sub records then FormIDs starting with 00, 01 and 02 belong to these 3 files in that order, everything starting with 03 (or higher!) belongs to the file you are dumping.

</p><h3>"I have a lot of house-mods that are conflicting, how do I fix this?"</h3>

<p><b>My load list is smaller than most here, but I have a large selection of houses that were causing problems, as well as a few others like the vertibird that would crash if you left it and walked away. How do I fix this?</b>

</p><p>First, check if any of your active modules are NOT masters. You can see that easily in <a href="http://www.fallout3nexus.com/downloads/file.php?id=640">FOMM</a> if any of them are not shown in bold. If yes, run FO3MasterUpdate again and see if the problem if gone.

</p><p>If not, determine the FormID of the problematic character(s). Then start FO3Edit and don't make any changes to the to-be-loaded modules. Now put the FormID into the FormID search box (above the navigation tree view) and hit enter. Check if that record is touched by any of you installed mods. Also check the NPC record that the ACHR is based on (you can hold down CTRL and then click on the NAME field to jump to that record). Also make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.

</p><h3> "Will FO3Edit merge the Eyes, Hairs, Mouth pieces, etc?"</h3>

<p><b>When merging patches that modify facial characteristics, will FO3Edit merge the Eyes, Hairs, Mouth pieces, etc?</b>

</p><p>Important with that: eyes and hairs are merged, the rest not. So if you (or anyone) have a mod which makes changes to something other then hairs or eyes, load that mod last so that the hair and eye changes get merged into it.

</p><p>So that means that TK's eyelash mod has to be last since it mods a lot of the head parts (like merging the whole mouth to make an open slot for the eyelashes). Also make sure you are <a href="http://dl.dropbox.com/u/17043363/readme.html#_Using_Master_Update">Modding-Up</a> correctly.

</p><h3>"Can I merge destruction-data into my patch plug-in?"</h3>

<p><b>Is it possible to get the destruction data that I created for my mod into the merged patch or should I just do it by hand?</b>

</p><p>Destruction data is not one of the things handled by the merged patch function, so you will need to add those elements by-hand to the patch Plug-in.

</p><h1>Appendix</h1>

<h2>Testimonials</h2>

<p>QUOTE: JustinOther:

</p><p>Or something... For whatever it's worth, I'm really glad you've published your programs and, personally, find them more useful in a lot of cases than even the TES4 CS/GECK. Your editors lend a bird's eye perspective which is otherwise unavailable and no &lt;oxymoron&gt;serious gamer&lt;/oxymoron&gt; running or creating mods for FO3/TES4 should be without them. Had Bethesda used your tool to "check for errors" and "undelete and disable refs" before releasing The Pitt, it would have had fewer or no problems. I hope you never stop publishing your editors. &lt;3 FO3Edit smile.gif

</p><p>QUOTE: brenner:

</p><p>Thanks Elminster, this has saved me much frustration. I had been sorting through and manually changing small groups of mods to esm before this and this is so much easier and after a somewhat brief testing - far more reliable.

</p><p>QUOTE: Airway:

</p><p>The skin issue should be corrected. Tarrant's FO3Phalanx mod NPC companion Deisha had the right skin color when I used it. I've been testing the earlier versions since yesterday and encountered a few hiccups, but ElminsterEU's been quick and helpful in resolving them. It's been going smoothly since then.

</p><p>QUOTE: Deaderinred:

</p><p>the masterupdater is fantastic, i may be wrong however but i think its somehow caused enclave radio to come back on air during broken steel, but it only ever airs the pre-finale loop.

</p><p>QUOTE: HeyYou Feedback:

</p><p>I am running 1.4 version of the game, with <a href="http://www.fallout3nexus.com/downloads/file.php?id=4888">FOSE</a>. Also have the pitt, and O:A installed. Game runs perfectly stable, no crashes in several hours of play, no other problems that i noticed either, by all appearances, the list merger is working as advertised, i have encountered raiders, supermutants, and even Enclave with weapons from a couple different installed mods. So far, I have experienced nothing but happy playing, with all of my mods cooperating.

</p><p>Thank You very much.

</p><p>QUOTE: Red Lotus:

</p><p>This mod is amazing. Before, when I embarrassingly did not know how to use it, it was crashing like crazy. When I figured out to rename it to what you said, I just had to disable two mods--one that allowed me to go over level 100, and another that calculated classic carrying weight in Fallout 1 and 2, so basically these two altered leveling and stuff. After I disabled them, it worked, then it only crashed when the CPU overloaded with enemies on-screen when I was doing Take it Back! (I use Marts Mutant Mod increased increased spawns), so too many Enclave Troopers.

</p><p>Anyway, thank you for this amazing, amazing mod. The entire weekend, I was trying to figure out how to get the damned Fake Patch to work, and it never did. When you were taking Testers, I wanted to join but was a bit skeptic. When people said it was good, I wanted to try it, but then you released it when I was going to ask. When I got it to work, I immediately got the Hellfire Armor, an incinerator, loads of ammo, and more because of a MMM increased increased spawn vertibird encounter. Its been so stable. You are truly a savior!

</p><p>QUOTE: Garner:

</p><p>Hi Elminster,

</p><p>I just wanted to say thank you for this. You're a credit to the community!

</p><p>QUOTE: Martigen:

</p><p>I'll take this opportunity to say that most of the mods on this board couldn't have been done as quickly as they are without FO3Edit, and even some mod features would be impossible to do without it. MMM fits into this category.

</p><p>So thankyou, Elminster :)

</p><p>QUOTE: mentalstampede:

</p><p>This new update is like an answer to a prayer. The Disappearing navmeshes and statics was driving me nuts. Works great for me.

</p><p>QUOTE: Mythranter: 

</p><p>Just wanted to say thank you for this great tool. It brought my modded 1.5 game back from the dead. Thanks!

</p><p>QUOTE: Lasirith:

</p><p>I'm officially recommending your Master Update program in my FAQ. If you could quickly check the blurb in my faq to make sure I didn't leave anything out about using the program I'd appreciate it. Thanks for the great work Elminster.

</p><p>QUOTE: MadCon5:

</p><p>After getting everything set up correctly (as far as I know tongue.gif) My Fallout 3 1.5, Unofficial FO3 Patch, FOOK+MMM has been as stable as it possibly can be. Haven't had a CTD for a day now, played it lot to during.

</p><p>I just want to send out my grateful thanks to ElminsterEU for his FO3Edit/MasterUpdate!

</p><p>And to all the people that sent feedback etc.

</p><p>Thank you ever so much!

</p><p>QUOTE: Unclellama:

</p><p>Just wanted to say thanks for this. Using the MasterUpdate function has solved crash-on-save problems for me, now the game works perfectly... and now that it's 'fixed' I can actually enjoy the fact that patch 1.5 seems to run faster then unpatched. Woohoo!

</p><p>QUOTE: Mavkiel:

</p><p>You sir are a god. I love being able to use my old mods while using the 1.5 patch.

</p><p>QUOTE: Roober804:

</p><p>Thanks for the tools, FO3 has been more stable for me than it has been in a LONG time,
I am able to use the 1.5 patch and all the mods i use to use before the patch without any CTD biggrin.gif

</p><p>QUOTE: Grimstad:

</p><p>I just wanted to say thanks.

</p><p>Master Update allows my mod to work with 1.5.

</p><p>Thats a lot of work to get shot down by a patch.

</p><p>QUOTE: Chadwick:

</p><p>I must say thank you for the FO3MasterUpdate. It fixed all of the problems I was having with the CTDs when I used mods that conflicted with the 1.5 patch. FO3Edit is undoubtedly a godsend. So again, thank you very much.

</p><p>I hope this is the right place to post praise. :)

</p><p>QUOTE: Delta1551:

</p><p>Thank you for this very easy to use program! Editing FOOK with this is very easy, and fast.

</p><p>QUOTE: Recall:

</p><p>I would just like to say thank you ElminsterEU, as you have saved my Fallout 3. smile.gif

</p><p>QUOTE: Creston:

</p><p>Hey Elminster,

</p><p>No problems here, just wanted to say thanks for the amazing work you've done on this tool. Thanks! biggrin.gif

</p><p>QUOTE: crimson.cosmos:

</p><p>Hey!

</p><p>First,
I'd like to thank you for writing this tool and maintaining it to such standards. It really is a life saver!

</p><p>QUOTE: Miaximus:

</p><p>Great work Elminster! Again I very much appreciate all the work you have done on this! I just tested with my configuration and it worked very smoothly as before, I'll be testing today. I also like the MasterRestore mode! Makes it alot easier when going back and forth between GECK and Fo3 for troubleshooting issues.

</p><p>Thanks again!!

</p><p>M

</p><h1>Cheat Sheets and Quick Reference Charts</h1>

<p>In the following pages we have included several of the more pertinent reference charts and cheat sheets to make them easier and more accessible to you in the future.

<img src="./Miax's Tome of FO3Edit_files/image339.jpg">

</p><p>The Conflict Detection Filter Settings are shown below:

<img src="./Miax's Tome of FO3Edit_files/image340.jpg">

</p><p>The record/reference Reach ability Info Filter Settings are shown below:

<img src="./Miax's Tome of FO3Edit_files/image341.jpg">

</p><p>The Identical To Master Detection filter settings are shown below (Part 1 of Cleaning Process):

<img src="./Miax's Tome of FO3Edit_files/image342.jpg">

</p><p>The Mod Cleaning filter settings are shown below (Part 2 of Cleaning Process):

<img src="./Miax's Tome of FO3Edit_files/image343.jpg">

</p><p>The Conflict Detection Load Order Workflow diagram is shown below:

<img src="./Miax's Tome of FO3Edit_files/image072.jpg">

</p><p>The Conflict Detection Load Order Workflow diagram is shown below:

<img src="./Miax's Tome of FO3Edit_files/image344.jpg"></p></body></html>